[!/* do not generate this file if RTE is not used */!][!//
[!SKIPFILE "node:existsAndFalse(DemGeneral/DemRteUsage)"!]
[!AUTOSPACING!]
[!//
[!MACRO "Create_Interface_Vars", "VarsAsrVersion", "VarsInterfaceName"!]
 [!IF "($VarsAsrVersion = 'AUTOSAR_42') or ($VarsAsrVersion = 'AUTOSAR_2011')"!]
    [!VAR "CSDataServices" = "'DataServices_'"!]
  [!ELSE!][!//
    [!VAR "CSDataServices" = "'CSDataServices_'"!]
  [!ENDIF!]
  [!IF "($VarsAsrVersion = 'AUTOSAR_42')"!]
    [!VAR "Dem_GetEventFreezeFrameData" = "'Dem_ASR42_GetEventFreezeFrameData'"!]
  [!ELSE!][!//
    [!VAR "Dem_GetEventFreezeFrameData" = "'Dem_GetEventFreezeFrameData'"!]
  [!ENDIF!]
  [!IF "($VarsAsrVersion != 'AUTOSAR_40')"!]
    [!IF "($VarsAsrVersion = 'AUTOSAR_42') and ($DefaultASRServiceAPI != 'AUTOSAR_43')"!]
      [!VAR "Dem_GetEventExtendedDataRecordEx" = "'Dem_ASR42_GetEventExtendedDataRecordEx'"!]
      [!VAR "Dem_GetEventFreezeFrameDataEx" = "'Dem_ASR42_GetEventFreezeFrameDataEx'"!]
    [!ELSE!][!//
      [!VAR "Dem_GetEventExtendedDataRecordEx" = "'Dem_GetEventExtendedDataRecordEx'"!]
      [!VAR "Dem_GetEventFreezeFrameDataEx" = "'Dem_GetEventFreezeFrameDataEx'"!]
    [!ENDIF!]
  [!ENDIF!]
  [!IF "$InterfaceName != ''"!]
    [!VAR "InterfacePrefix" = "concat('Dem_', $InterfaceName)"!]
  [!ELSE!][!//
    [!VAR "InterfacePrefix" = "''"!]
  [!ENDIF!]
  [!VAR "DiagnosticMonitor" = "concat($InterfacePrefix, 'DiagnosticMonitor')"!]
  [!VAR "DiagnosticInfo" = "concat($InterfacePrefix, 'DiagnosticInfo')"!]
  [!VAR "GeneralDiagnosticInfo" = "concat($InterfacePrefix, 'GeneralDiagnosticInfo')"!]
  [!VAR "CallbackInitMonitorForEvent" = "concat($InterfacePrefix, 'CallbackInitMonitorForEvent')"!]
  [!IF "($InterfaceName = '')"!]
    [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
      [!VAR "CallbackEventStatusChangedInterface" = "'CallbackEventUdsStatusChanged'"!]
      [!VAR "CallbackEventStatusChangedOperation" = "'CallbackEventUdsStatusChanged'"!]
      [!VAR "CBEventStatusPortName" = "'CBEventUdsStatusChanged'"!]
      [!VAR "GeneralCallbackEventStatusChangedInterface" = "'GeneralCallbackEventUdsStatusChanged'"!]
      [!VAR "GeneralCallbackEventStatusChangedOperation" = "'GeneralCallbackEventUdsStatusChanged'"!]
    [!ELSE!][!//
      [!VAR "CallbackEventStatusChangedInterface" = "'CallbackEventStatusChange'"!]
      [!VAR "CallbackEventStatusChangedOperation" = "'EventStatusChanged'"!]
      [!VAR "CBEventStatusPortName" = "'CBStatusEvt'"!]
      [!VAR "GeneralCallbackEventStatusChangedInterface" = "'GeneralCallbackEventStatusChange'"!]
      [!VAR "GeneralCallbackEventStatusChangedOperation" = "'EventStatusChanged'"!]
    [!ENDIF!]
  [!ENDIF!]
  [!VAR "CallbackEventDataChanged" = "concat($InterfacePrefix, 'CallbackEventDataChanged')"!]
  [!VAR "GeneralCallbackEventDataChanged" = "concat($InterfacePrefix, 'GeneralCallbackEventDataChanged')"!]
  [!VAR "OperationCycle" = "concat($InterfacePrefix, 'OperationCycle')"!]
  [!VAR "AgingCycle" = "concat($InterfacePrefix, 'AgingCycle')"!]
  [!VAR "ExternalAgingCycle" = "concat($InterfacePrefix, 'ExternalAgingCycle')"!]
  [!VAR "EnableCondition" = "concat($InterfacePrefix, 'EnableCondition')"!]
  [!VAR "StorageCondition" = "concat($InterfacePrefix, 'StorageCondition')"!]
  [!VAR "IndicatorStatus" = "concat($InterfacePrefix, 'IndicatorStatus')"!]
  [!VAR "EvMemOverflowIndication" = "concat($InterfacePrefix, 'EvMemOverflowIndication')"!]
  [!VAR "DTCSuppression" = "concat($InterfacePrefix, 'DTCSuppression')"!]
  [!VAR "EventAvailable" = "concat($InterfacePrefix, 'EventAvailable')"!]
  [!VAR "PowerTakeOff" = "concat($InterfacePrefix, 'PowerTakeOff')"!]
  [!VAR "CallbackGetFaultDetectCounter" = "concat($InterfacePrefix, 'CallbackGetFaultDetectCounter')"!]
  [!VAR "CallbackClearEventAllowed" = "concat($InterfacePrefix, 'CallbackClearEventAllowed')"!]
  [!VAR "PfcCyclePfcCycleQualified" = "concat($InterfacePrefix, 'PfcCyclePfcCycleQualified')"!]
  [!VAR "ResetReadiness" = "concat($InterfacePrefix, 'ResetReadiness')"!]
  [!VAR "EventStatus" = "concat($InterfacePrefix, 'EventStatus')"!]
  [!IF "($VarsAsrVersion = 'AUTOSAR_40') or ($VarsAsrVersion = 'AUTOSAR_42')"!]
    [!IF "$InterfaceName != ''"!]
      [!VAR "RE_GetEventFreezeFrameData" = "concat($InterfaceName,'RE_GetEventFreezeFrameData')"!]
    [!ELSE!][!//
      [!VAR "RE_GetEventFreezeFrameData" = "'RE_GetEventFreezeFrameData'"!]
    [!ENDIF!]
  [!ENDIF!]
  [!IF "($VarsAsrVersion != 'AUTOSAR_40')"!]
    [!IF "($VarsAsrVersion = 'AUTOSAR_42') and ($DefaultASRServiceAPI != 'AUTOSAR_43')"!]
      [!VAR "RE_GetEventExtendedDataRecordEx" = "concat($InterfaceName,'RE_GetEventExtendedDataRecordEx')"!]
      [!VAR "RE_GetEventFreezeFrameDataEx" = "concat($InterfaceName,'RE_GetEventFreezeFrameDataEx')"!]
    [!ELSE!][!//
      [!VAR "RE_GetEventExtendedDataRecordEx" = "'RE_GetEventExtendedDataRecordEx'"!]
      [!VAR "RE_GetEventFreezeFrameDataEx" = "'RE_GetEventFreezeFrameDataEx'"!]
    [!ENDIF!]
  [!ENDIF!]
  [!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
           node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
    [!VAR "IUMPRDenominatorCondition" = "concat($InterfacePrefix, 'IUMPRDenominatorCondition')"!]
  [!ENDIF!]
  [!IF "(node:existsAndTrue(DemGeneral/DemResetPerformanceCountersAPI))"!]
    [!VAR "CfgResetPerformanceCounters" = "'true'"!]
  [!ELSE!]
    [!VAR "CfgResetPerformanceCounters" = "'false'"!]
  [!ENDIF!] 
  [!IF "(($DefaultASRServiceAPI != 'AUTOSAR_2011') or
      (($DefaultASRServiceAPI = 'AUTOSAR_2011') and (node:exists(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[node:existsAndTrue(DemEventClass/DemFFPrestorageSupported)]))))"!][!//
    [!VAR "DemFFPrestorageAllowed" = "'true'"!]
  [!ELSE!]
    [!VAR "DemFFPrestorageAllowed" = "'false'"!]
  [!ENDIF!]
  [!IF "(($DefaultASRServiceAPI != 'AUTOSAR_2011') or
    (($DefaultASRServiceAPI = 'AUTOSAR_2011') and ((node:existsAndTrue(DemGeneral/DemDebounceCounterBasedSupport)) or (node:existsAndTrue(DemGeneral/DemDebounceTimeBasedSupport)) or (node:existsAndTrue(DemGeneral/DemDebounceFrequencyBasedSupport)))))"!][!//
    [!VAR "ResetEventDebounceStatusAllowed" = "'true'"!]
  [!ELSE!]
    [!VAR "ResetEventDebounceStatusAllowed" = "'false'"!]
  [!ENDIF!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "CalculateQueueLength"!]
  [!VAR "QueueLength_EventGroupRteCalculated" = "'true'"!]
  [!VAR "QueueLength_EventInfoGroupRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetWIRStatusRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetOperationCycleStateRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetAgingCycleRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetEnableConditionRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetStorageConditionRteCalculated" = "'true'"!]
  [!VAR "QueueLength_GetIndicatorStatusRteCalculated" = "'true'"!]
  [!VAR "QueueLength_OverflowIndicationGroupRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetDTCSuppressionRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetEventAvailableRteCalculated" = "'true'"!]
  [!VAR "QueueLength_ClearDTCRteCalculated" = "'true'"!]
  [!VAR "QueueLength_SetPtoStatusRteCalculated" = "'true'"!]
  [!VAR "QueueLength_PfcCycleQualifiedGroupRteCalculated" = "'true'"!]
  [!VAR "QueueLength_ResetReadinessRteCalculated" = "'true'"!]

  [!IF "node:existsAndFalse(DemGeneral/DemEventPort/DemCSEventGroupRteCalculated)"!]
    [!/* queue length values of operations will be the one configured by the user */!][!//
    [!VAR "QueueLength_SetEventStatus" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthSetEventStatus)"!]
    [!VAR "QueueLength_ResetEventStatus" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthResetEventStatus)"!]
    [!VAR "QueueLength_ResetEventDebounceStatus" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthResetEventDebounceStatus)"!]
    [!VAR "QueueLength_PrestoreFreezeFrame" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthPrestoreFreezeFrame)"!]
    [!VAR "QueueLength_ClearPrestoredFreezeFrame" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthClearPrestoredFreezeFrame)"!]
    [!IF "$OBDSupport = 'true'"!]
      [!VAR "QueueLength_SetEventDisabled" = "num:integer(DemGeneral/DemEventPort/DemCSQueueLengthSetEventDisabled)"!]
    [!ENDIF!]
    [!VAR "QueueLength_EventGroupRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemEventInfoPort/DemCSEventInfoGroupRteCalculated)"!]
    [!/* queue length values of operations will be the one configured by the user */!][!//
    [!VAR "QueueLength_GetEventStatus" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventStatus)"!]
    [!VAR "QueueLength_GetEventFailed" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventFailed)"!]
    [!VAR "QueueLength_GetEventTested" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventTested)"!]
    [!VAR "QueueLength_GetDTCOfEvent" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetDTCOfEvent)"!]
    [!VAR "QueueLength_GetFaultDetectionCounter" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetFaultDetectionCounter)"!]
    [!NOCODE!]
    [!/* GetEventFreezeFrameData and GetEventExtendedDataRecord are only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
    [!ENDNOCODE!]
    [!IF "(node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)) or
          (node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)) or
          ($DefaultASRServiceAPI = 'AUTOSAR_42') or ($DefaultASRServiceAPI = 'AUTOSAR_40')"!]
      [!VAR "QueueLength_GetEventFreezeFrameData" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventFreezeFrameData)"!]
      [!VAR "QueueLength_GetEventExtendedDataRecord" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventExtendedDataRecord)"!]
    [!ENDIF!]
    [!IF "(node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)) or
          ($BaseServiceAPIVersion = 'AUTOSAR_42') or ($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
      [!VAR "QueueLength_GetEventFreezeFrameDataEx" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventFreezeFrameDataEx)"!]
      [!VAR "QueueLength_GetEventExtendedDataRecordEx" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetEventExtendedDataRecordEx)"!]
      [!VAR "QueueLength_GetDebouncingOfEvent" = "num:integer(DemGeneral/DemEventInfoPort/DemCSQueueLengthGetDebouncingOfEvent)"!]
    [!ENDIF!]
    [!VAR "QueueLength_EventInfoGroupRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndTrue(DemGeneral/DemUserControlledWIRBitSupport)"!]
    [!IF "node:existsAndFalse(DemGeneral/DemEventStatusPort/DemCSQueueLengthSetWIRStatusRteCalculated)"!]
      [!/* queue length value of Dem_SetWIRStatus will be the one configured by the user */!][!//
      [!VAR "QueueLength_SetWIRStatus" = "num:integer(DemGeneral/DemEventStatusPort/DemCSQueueLengthSetWIRStatus)"!]
      [!VAR "QueueLength_SetWIRStatusRteCalculated" = "'false'"!]
    [!ENDIF!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemOpCyclePort/DemCSQueueLengthSetOperationCycleStateRteCalculated)"!]
    [!/* queue length value of Dem_SetOperationCycleState will be the one configured by the user */!][!//
    [!IF "node:exists(DemGeneral/DemOpCyclePort/DemCSQueueLengthSetOperationCycleState)"!]
      [!VAR "QueueLength_SetOperationCycleState" = "num:integer(DemGeneral/DemOpCyclePort/DemCSQueueLengthSetOperationCycleState)"!]
    [!ENDIF!]
    [!IF "node:exists(DemGeneral/DemOpCyclePort/DemCSQueueLengthRestartOperationCycle)"!]
      [!VAR "QueueLength_RestartOperationCycle" = "num:integer(DemGeneral/DemOpCyclePort/DemCSQueueLengthRestartOperationCycle)"!]
    [!ENDIF!]
    [!VAR "QueueLength_SetCycleQualified" = "num:integer(DemGeneral/DemOpCyclePort/DemCSQueueLengthSetCycleQualified)"!]
    [!VAR "QueueLength_SetOperationCycleStateRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemAgingCyclePort/DemCSQueueLengthSetAgingCycleRteCalculated)"!]
    [!/* queue length values of operation will be the one configured by the user */!][!//
    [!IF "DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_INTERN'"!]
      [!VAR "QueueLength_SetAgingCycle" = "num:integer(DemGeneral/DemAgingCyclePort/DemCSQueueLengthSetAgingCycleState)"!]
    [!ELSE!]
      [!VAR "QueueLength_SetAgingCycle" = "num:integer(DemGeneral/DemAgingCyclePort/DemCSQueueLengthSetAgingCycleCounterValue)"!]
    [!ENDIF!]
    [!VAR "QueueLength_SetAgingCycleRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemEnableCondPort/DemCSQueueLengthSetEnableConditionRteCalculated)"!]
    [!/* queue length value of Dem_SetEnableCondition will be the one configured by the user */!][!//
    [!VAR "QueueLength_SetEnableCondition" = "num:integer(DemGeneral/DemEnableCondPort/DemCSQueueLengthSetEnableCondition)"!]
    [!VAR "QueueLength_SetEnableConditionRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemStorageCondPort/DemCSQueueLengthSetStorageConditionRteCalculated)"!]
    [!/* queue length value of Dem_SetStorageCondition will be the one configured by the user */!][!//
    [!VAR "QueueLength_SetStorageCondition" = "num:integer(DemGeneral/DemStorageCondPort/DemCSQueueLengthSetStorageCondition)"!]
    [!VAR "QueueLength_SetStorageConditionRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemIndStatusPort/DemCSQueueLengthGetIndicatorStatusRteCalculated)"!]
    [!/* queue length value of Dem_GetIndicatorStatus will be the one configured by the user */!][!//
    [!VAR "QueueLength_GetIndicatorStatus" = "num:integer(DemGeneral/DemIndStatusPort/DemCSQueueLengthGetIndicatorStatus)"!]
    [!VAR "QueueLength_GetIndicatorStatusRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemOverflowIndPort/DemCSOverflowIndicationGroupRteCalculated)"!]
    [!/* queue length values of operation will be the one configured by the user */!][!//
    [!VAR "QueueLength_GetEventMemoryOverflow" = "num:integer(DemGeneral/DemOverflowIndPort/DemCSQueueLengthGetEventMemoryOverflow)"!]
    [!VAR "QueueLength_GetNumberOfEventMemoryEntries" = "num:integer(DemGeneral/DemOverflowIndPort/DemCSQueueLengthGetNumberOfEventMemoryEntries)"!]
    [!VAR "QueueLength_OverflowIndicationGroupRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemControlDTCSuppressionPort/DemCSQueueLengthSetDTCSuppressionRteCalculated)"!]
    [!/* queue length values of Dem_SetDTCSuppression will be the one configured by the user */!][!//
    [!VAR "QueueLength_SetDTCSuppression" = "num:integer(DemGeneral/DemControlDTCSuppressionPort/DemCSQueueLengthSetDTCSuppression)"!]
    [!VAR "QueueLength_SetDTCSuppressionRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "node:existsAndFalse(DemGeneral/DemControlEventAvailablePort/DemCSQueueLengthSetEventAvailableRteCalculated)"!]
    [!VAR "QueueLength_SetEventAvailable" = "num:integer(DemGeneral/DemControlEventAvailablePort/DemCSQueueLengthSetEventAvailable)"!]
    [!VAR "QueueLength_SetEventAvailableRteCalculated" = "'false'"!]
  [!ENDIF!]

  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_42')"!]
    [!IF "node:existsAndFalse(DemGeneral/DemCddIfPort/DemCSQueueLengthClearDTCRteCalculated)"!]
      [!/* queue length values of Dem_ClearDTC will be the one configured by the user */!][!//
      [!VAR "QueueLength_ClearDTC" = "num:integer(DemGeneral/DemCddIfPort/DemCSQueueLengthClearDTC)"!]
      [!VAR "QueueLength_ClearDTCRteCalculated" = "'false'"!]
    [!ENDIF!]
  [!ENDIF!]

  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
    [!IF "node:existsAndFalse(DemGeneral/DemClearDTCPort/DemCSQueueLengthClearDTCR2011RteCalculated)"!]
      [!/* queue length values of operation will be the one configured by the user */!][!//
      [!VAR "QueueLength_CSClearDTC" = "num:integer(DemGeneral/DemClearDTCPort/DemCSQueueLengthClearDTCR2011)"!]
      [!VAR "QueueLength_CSSelectDTC" = "num:integer(DemGeneral/DemClearDTCPort/DemCSQueueLengthSelectDTCR2011)"!]
      [!VAR "QueueLength_CSClearDTCRteCalculated" = "'false'"!]
    [!ENDIF!]
  [!ENDIF!]

  [!IF "$OBDSupport = 'true'"!]
    [!IF "node:existsAndFalse(DemGeneral/DemPowerTakeOffStatusPort/DemCSQueueLengthSetPtoStatusRteCalculated)"!]
      [!/* queue length values of Dem_SetPtoStatus will be the one configured by the user */!][!//
      [!VAR "QueueLength_SetPtoStatus" = "num:integer(DemGeneral/DemPowerTakeOffStatusPort/DemCSQueueLengthSetPtoStatus)"!]
      [!VAR "QueueLength_SetPtoStatusRteCalculated" = "'false'"!]
    [!ENDIF!]

    [!IF "node:existsAndFalse(DemGeneral/DemPfcCycleQualifiedPort/DemCSPfcCycleQualifiedGroupRteCalculated)"!]
      [!/* queue length values of operations will be the one configured by the user */!][!//
      [!VAR "QueueLength_SetPfcCycleQualified" = "num:integer(DemGeneral/DemPfcCycleQualifiedPort/DemCSQueueLengthSetPfcCycleSetPfcCycleQualified)"!]
      [!VAR "QueueLength_GetPfcCycleQualified" = "num:integer(DemGeneral/DemPfcCycleQualifiedPort/DemCSQueueLengthGetPfcCycleQualified)"!]
      [!VAR "QueueLength_PfcCycleQualifiedGroupRteCalculated" = "'false'"!]
    [!ENDIF!]

    [!IF "node:existsAndFalse(DemGeneral/DemResetReadinessPort/DemCSQueueLengthResetReadinessRteCalculated)"!]
      [!/* queue length values of Dem_ResetReadiness will be the one configured by the user */!][!//
      [!VAR "QueueLength_ResetReadiness" = "num:integer(DemGeneral/DemResetReadinessPort/DemCSQueueLengthResetReadiness)"!]
      [!VAR "QueueLength_ResetReadinessRteCalculated" = "'false'"!]
    [!ENDIF!]
  [!ENDIF!]

  [!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
           node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
    [!IF "node:existsAndFalse(DemGeneral/DemIUMPRDenominatorConditionPort/DemCSQueueLengthIUMPRDenominatorConditionRteCalculated)"!]
      [!/* queue length values of operations will be the one configured by the user */!][!//
      [!VAR "QueueLength_SetIUMPRDenCondition" = "num:integer(DemGeneral/DemIUMPRDenominatorConditionPort/DemCSQueueLengthSetIUMPRDenCondition)"!]
      [!VAR "QueueLength_GetIUMPRDenCondition" = "num:integer(DemGeneral/DemIUMPRDenominatorConditionPort/DemCSQueueLengthGetIUMPRDenCondition)"!]
      [!VAR "QueueLength_IUMPRDenominatorConditionGroupRteCalculated" = "'false'"!]
    [!ELSE!]
      [!VAR "QueueLength_IUMPRDenominatorConditionGroupRteCalculated" = "'true'"!]
    [!ENDIF!]
  [!ENDIF!]

  [!IF "(node:existsAndTrue(DemGeneral/DemResetPerformanceCountersAPI))"!]
    [!IF "node:existsAndFalse(DemGeneral/DemPerformanceCountersPort/DemCSQueueLengthResetPerformanceCountersRteCalculated)"!]
      [!/* queue length values of operations will be the one configured by the user */!][!//
      [!VAR "QueueLength_ResetPerformanceCounters" = "num:integer(DemGeneral/DemPerformanceCountersPort/DemCSQueueLengthResetPerformanceCounters)"!]
      [!VAR "QueueLength_PerformanceCountersRteCalculated" = "'false'"!]
    [!ELSE!]
      [!VAR "QueueLength_PerformanceCountersRteCalculated" = "'true'"!]
    [!ENDIF!]
  [!ENDIF!]

[!ENDMACRO!]
[!//
[!//
[!MACRO "Calculate_QueueLength", "Version"!]
  [!IF "$Version = 0"!]
    [!VAR "QueueLength" = "1"!]
  [!ELSE!]
    [!VAR "QueueLength" = "$Version"!]
  [!ENDIF!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_Ports", "AsrVersion", "InterfaceName" = "''", "TopLevelPackage" = "'/AUTOSAR_Dem'"!]
  [!CALL "Create_Interface_Vars", "VarsAsrVersion"="$AsrVersion", "VarsInterfaceName"="$InterfaceName"!]
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
                <!-- *** Ports concerning Event '[!"as:name(.)"!]' ([!"DemEventKind"!]) *** -->
                <!-- !LINKSTO Dem.SWS_Dem_01037,1 -->
    [!IF "DemEventKind = 'DEM_EVENT_KIND_SWC'"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]Event_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
      [!/* check if the queue length of the Event Port operations will be calculated by Rte */!][!//
      [!IF "$QueueLength_EventGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/SetEventStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ResetEventStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_ResetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!IF "$DemFFPrestorageAllowed = 'true'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/PrestoreFreezeFrame</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_PrestoreFreezeFrame"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ClearPrestoredFreezeFrame</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_ClearPrestoredFreezeFrame"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ENDIF!]
        [!IF "$OBDSupport = 'true'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/SetEventDisabled</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetEventDisabled"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ENDIF!]
        [!IF "$ResetEventDebounceStatusAllowed = 'true'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ResetEventDebounceStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_ResetEventDebounceStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ENDIF!]
      [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
    [!ENDIF!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the EventInfo Port operations will be calculated by Rte */!][!//
    [!IF "$QueueLength_EventInfoGroupRteCalculated = 'false'"!]
      [!IF "($AsrVersion != 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
      [!IF "($DefaultASRServiceAPI = 'AUTOSAR_43') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventUdsStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFailed</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFailed"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventTested</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventTested"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetDTCOfEvent</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetDTCOfEvent"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetFaultDetectionCounter</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetFaultDetectionCounter"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!NOCODE!]
      [!/* GetEventFreezeFrameData and GetEventExtendedDataRecord are only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
      [!ENDNOCODE!]
      [!IF "($AsrVersion = 'AUTOSAR_40') or
            ( ($AsrVersion = 'AUTOSAR_42') and
              ( ($DefaultASRServiceAPI != 'AUTOSAR_43') or ($InterfaceName != '') ) )"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFreezeFrameData</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFreezeFrameData"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventExtendedDataRecord</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventExtendedDataRecord"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
      [!IF "($AsrVersion = 'AUTOSAR_42') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetDebouncingOfEvent</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetDebouncingOfEvent"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventExtendedDataRecordEx</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventExtendedDataRecordEx"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFreezeFrameDataEx</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFreezeFrameDataEx"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
    <!-- !LINKSTO Dem.SWS_Dem_01036,1 -->
    [!IF "node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemUserControlledWIRBitSupport)"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]EventStatus_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
      [!/* check if the queue length of the EventStatus Port operation will be calculated by Rte */!][!//
      [!IF "$QueueLength_SetWIRStatusRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventStatus"!]/SetWIRStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetWIRStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventStatus"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
    [!ENDIF!]

    [!IF "as:modconf('Dem')[1]/DemGeneral/DemAvailabilitySupport = 'DEM_EVENT_AVAILABILITY'"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]ControlEventAvailable_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
      [!IF "$QueueLength_SetEventAvailableRteCalculated = 'false'"!]
                      <SERVER-COM-SPEC>
                        <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventAvailable"!]/SetEventAvailable</OPERATION-REF>
                        <QUEUE-LENGTH>[!"$QueueLength_SetEventAvailable"!]</QUEUE-LENGTH>
                      </SERVER-COM-SPEC>
      [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventAvailable"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
    [!ENDIF!]

    [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
      <!-- !LINKSTO Dem.SWS_Dem_91019,1 -->
      [!IF "node:existsAndTrue(DemEventClass/DemEventConfirmationThresholdCounterAdaptable)"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>ControlEventFailureCycleCounterThreshold_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
                    <!--SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/EventFailureCycleCounterThreshold/SetEventFailureCycleCounterThreshold</OPERATION-REF>
                      <QUEUE-LENGTH>1</QUEUE-LENGTH>
                    </SERVER-COM-SPEC-->
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/EventFailureCycleCounterThreshold</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
      [!ENDIF!]
    [!ENDIF!]

    [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
      [!IF "node:exists(DemCallbackInitMForE)"!]
        [!IF "not(node:exists(DemCallbackInitMForE/DemCallbackInitMForEFnc))"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]CBInitEvt_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CallbackInitMonitorForEvent"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
        [!ENDIF!]
      [!ENDIF!]
      [!VAR "RunningNr" = "0"!]
      [!LOOP "DemCallbackEventStatusChanged/eb-list::*[not(node:exists(DemCallbackEventStatusChangedFnc))]"!]
        [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
                <R-PORT-PROTOTYPE>
        [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                  <SHORT-NAME>[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"as:name(.)"!]</SHORT-NAME>
        [!ELSE!]
                  <SHORT-NAME>[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"$RunningNr"!]</SHORT-NAME>
        [!ENDIF!]
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CallbackEventStatusChangedInterface"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
      [!ENDLOOP!]
      [!IF "node:exists(DemCallbackEventDataChanged)"!]
        [!IF "not(node:exists(DemCallbackEventDataChanged/DemCallbackEventDataChangedFnc))"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]CBDataEvt_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CallbackEventDataChanged"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
        [!ENDIF!]
      [!ENDIF!]
      [!IF "DemEventClass/DemDebounceAlgorithmClass = 'DemDebounceMonitorInternal'"!]
        [!IF "node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC)"!]
          [!IF "not(node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC/DemCallbackGetFDCFnc))"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]CBFaultDetectCtr_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CallbackGetFaultDetectCounter"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
          [!ENDIF!]
        [!ENDIF!]
      [!ENDIF!]
      [!IF "node:exists(DemCallbackClearEventAllowed)"!]
        [!IF "not(node:exists(DemCallbackClearEventAllowed/DemCallbackClearEventAllowedFnc))"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]CBClrEvt_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CallbackClearEventAllowed"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
        [!ENDIF!]
      [!ENDIF!]
    [!ENDIF!][!/* default interface */!][!//

  [!ENDLOOP!]
                <!-- *** Ports concerning General Event *** -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]GeneralEvtInfo</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
  [!/* check if the queue length of the EventInfo Port operations will be calculated by Rte */!][!//
  [!IF "$QueueLength_EventInfoGroupRteCalculated = 'false'"!]
    [!IF "($AsrVersion != 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
    [!IF "($DefaultASRServiceAPI = 'AUTOSAR_43') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventUdsStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFailed</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFailed"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventTested</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventTested"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetDTCOfEvent</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetDTCOfEvent"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetFaultDetectionCounter</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetFaultDetectionCounter"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!NOCODE!]
    [!/* GetEventFreezeFrameData and GetEventExtendedDataRecord are only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
    [!ENDNOCODE!]
    [!IF "($AsrVersion = 'AUTOSAR_40') or
          ( ($AsrVersion = 'AUTOSAR_42') and
            ( ($DefaultASRServiceAPI != 'AUTOSAR_43') or ($InterfaceName != '') ) )"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFreezeFrameData</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFreezeFrameData"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventExtendedDataRecord</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventExtendedDataRecord"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
    [!IF "($AsrVersion = 'AUTOSAR_42') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetDebouncingOfEvent</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetDebouncingOfEvent"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventExtendedDataRecordEx</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventExtendedDataRecordEx"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFreezeFrameDataEx</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventFreezeFrameDataEx"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
  [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>

                <!-- *** Ports *** -->
  [!LOOP "DemGeneral/DemOperationCycle/eb-list::*"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the OpCycle Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_SetOperationCycleStateRteCalculated = 'false'"!]
      <!-- !LINKSTO Dem.SWS_Dem_01026,1 -->
      [!IF "$AsrVersion = 'AUTOSAR_2011'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/RestartOperationCycle</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_RestartOperationCycle"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ELSE!][!/* "$AsrVersion = 'AUTOSAR_2011'"!] */!][!//
        [!IF "as:modconf('Dem')[1]/DemGeneral/DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_STATE'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetOperationCycleState</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetOperationCycleState"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ELSE!][!/* DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_COUNTER' */!][!//
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetOperationCycleCntValue</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetOperationCycleState"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ENDIF!]
      [!ENDIF!][!/* "$AsrVersion = 'AUTOSAR_2011'"!] */!][!//
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetCycleQualified</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetCycleQualified"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDLOOP!]

                <!-- *** Ports concerning Aging Cycles *** -->
  [!IF "DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_INTERN'"!]
    [!IF "count(DemGeneral/DemAgingCycle/eb-list::*) = 0"!]
                  <!-- none -->
    [!ENDIF!]
    [!LOOP "DemGeneral/DemAgingCycle/eb-list::*"!]
              <P-PORT-PROTOTYPE>
                <SHORT-NAME>[!"$InterfaceName"!]AgingCycle_[!"as:name(.)"!]</SHORT-NAME>
                <PROVIDED-COM-SPECS>
      [!/* check if the queue length of the AgingCycle Port operation will be calculated by Rte */!][!//
      [!IF "$QueueLength_SetAgingCycleRteCalculated = 'false'"!]
                  <SERVER-COM-SPEC>
                    <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$AgingCycle"!]/SetAgingCycleState</OPERATION-REF>
                    <QUEUE-LENGTH>[!"$QueueLength_SetAgingCycle"!]</QUEUE-LENGTH>
                  </SERVER-COM-SPEC>
      [!ENDIF!]
                </PROVIDED-COM-SPECS>
                <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$AgingCycle"!]</PROVIDED-INTERFACE-TREF>
              </P-PORT-PROTOTYPE>
    [!ENDLOOP!]
  [!ELSE!][!/* DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_EXTERN' */!][!//
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]ExtAgingCycle</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the AgingCycle Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_SetAgingCycleRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ExternalAgingCycle"!]/SetAgingCycleCounterValue</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetAgingCycle"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ExternalAgingCycle"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

                <!-- *** Ports concerning Enable Conditions *** -->
  [!IF "count(DemGeneral/DemEnableCondition/eb-list::*) = 0"!]
                  <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemEnableCondition/eb-list::*"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]EnableCond_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the EnableCond Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_SetEnableConditionRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EnableCondition"!]/SetEnableCondition</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetEnableCondition"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EnableCondition"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDLOOP!]

                <!-- *** Ports concerning Storage Conditions *** -->
  [!IF "count(DemGeneral/DemStorageCondition/eb-list::*) = 0"!]
                  <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemStorageCondition/eb-list::*"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]StorageCond_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the StorageCond Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_SetStorageConditionRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$StorageCondition"!]/SetStorageCondition</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetStorageCondition"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$StorageCondition"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDLOOP!]

                <!-- *** Ports concerning Indicators *** -->
  [!IF "count(DemGeneral/DemIndicator/eb-list::*) = 0"!]
                  <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemIndicator/eb-list::*"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]IndStatus_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the IndStatus Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_GetIndicatorStatusRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IndicatorStatus"!]/GetIndicatorStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetIndicatorStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IndicatorStatus"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDLOOP!]

                <!-- *** Ports concerning Overflow Indication *** -->
[!/* DemMaxNumberEventEntryPrimary is always > 0 */!][!//
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]OverflowIndPrimaryMemory</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
  [!/* check if the queue length of the OverflowIndication Port operation will be calculated by Rte */!][!//
  [!IF "$QueueLength_OverflowIndicationGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventMemoryOverflow"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetNumberOfEventMemoryEntries"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
  [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!IF "DemGeneral/DemMaxNumberEventEntrySecondary > 0"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]OverflowIndSecondaryMemory</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the OverflowIndication Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_OverflowIndicationGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventMemoryOverflow"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetNumberOfEventMemoryEntries"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryMirror > 0"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]OverflowIndMirrorMemory</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the OverflowIndication Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_OverflowIndicationGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventMemoryOverflow"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetNumberOfEventMemoryEntries"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryPermanent > 0"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]OverflowIndPermanentMemory</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the OverflowIndication Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_OverflowIndicationGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetEventMemoryOverflow"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

                <!-- *** Ports concerning DTC Suppression *** -->
                <!-- !LINKSTO Dem.ASR40.SWS_Dem_00608_Implicit1,1 -->
  [!IF "DemGeneral/DemSuppressionSupport = 'DEM_DTC_SUPPRESSION'"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]ControlDTCSuppression</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the ControlDTCSuppression Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_SetDTCSuppressionRteCalculated = 'false'"!]
                      <SERVER-COM-SPEC>
                        <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DTCSuppression"!]/SetDTCSuppression</OPERATION-REF>
                        <QUEUE-LENGTH>[!"$QueueLength_SetDTCSuppression"!]</QUEUE-LENGTH>
                      </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DTCSuppression"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ELSE!]
                <!-- none -->
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
    [!IF "($AsrVersion = 'AUTOSAR_42')"!]
                <!-- *** Ports concerning Cdd Interfacing *** -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>CddIf</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
      [!/* check if the queue length of the CddIf Port operation will be calculated by Rte */!][!//
      [!IF "$QueueLength_ClearDTCRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/CddIf/ClearDTC</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_ClearDTC"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
      [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/CddIf</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>

    [!ENDIF!]
  [!ENDIF!]

  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
    [!IF "count(DemGeneral/DemClient/eb-list::*) = 0"!]
                <!-- none -->
    [!ELSE!][!//
      [!LOOP "DemGeneral/DemClient/eb-list::*"!]
                <!-- !LINKSTO Dem.SWS_Dem_01009,1 -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]ClearDTC_[!"as:name(.)"!]</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
        [!/* check if the queue length of the ClearDTC Port operation will be calculated by Rte */!][!//
        [!IF "$QueueLength_CSClearDTCRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/ClearDTC/ClearDTC</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_CSClearDTC"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/ClearDTC/SelectDTC</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_CSSelectDTC"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
        [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/ClearDTC</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
      [!ENDLOOP!]
    [!ENDIF!]
  [!ENDIF!]

                <!-- *** Ports concerning IUMPR Numerator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                  <!-- none -->
  [!ENDIF!]

                <!-- *** Ports concerning IUMPR Denominator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                  <!-- none -->
  [!ENDIF!]

  <!-- !LINKSTO Dem_OBD_0001,2 -->
  [!IF "$OBDSupport = 'true'"!]
                <!-- *** Ports concerning Permanent Fault Code (PFC) *** -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]PfcCycleQualified</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the PfcCycleQualified Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_PfcCycleQualifiedGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PfcCyclePfcCycleQualified"!]/SetPfcCycleSetPfcCycleQualified</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetPfcCycleQualified"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PfcCyclePfcCycleQualified"!]/GetPfcCycleQualified</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetPfcCycleQualified"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PfcCyclePfcCycleQualified"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

  [!IF "$OBDSupport = 'true'"!]
                <!-- *** Ports concerning Reset Readiness *** -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]ResetReadiness</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the ResetReadiness Port operation will be calculated by Rte */!][!//
    [!IF "$QueueLength_ResetReadinessRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ResetReadiness"!]/ResetReadiness</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_ResetReadiness"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ResetReadiness"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

  [!IF "$OBDSupport = 'true'"!]
                <!-- *** Ports concerning Power Take Off *** -->
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]PowerTakeOffStatus</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
  [!/* check if the queue length of the PowerTakeOffStatus Port operation will be calculated by Rte */!][!//
  [!IF "$QueueLength_SetPtoStatusRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PowerTakeOff"!]/SetPtoStatus</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetPtoStatus"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
  [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PowerTakeOff"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

                <!-- *** Ports concerning IUMPR Denominator Condition *** -->
                <!-- !LINKSTO Dem.ASR21-11.SWS_Dem_01028,1 -->
  [!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
           node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
                <P-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]IUMPRDenominatorCondition_GeneralDen</SHORT-NAME>
                  <PROVIDED-COM-SPECS>
    [!/* check if the queue length of the IUMPRDenominatorCondition Port operations will be calculated by Rte */!][!//
    [!IF "$QueueLength_IUMPRDenominatorConditionGroupRteCalculated = 'false'"!]
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IUMPRDenominatorCondition"!]/SetIUMPRDenCondition</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_SetIUMPRDenCondition"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
                    <SERVER-COM-SPEC>
                      <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IUMPRDenominatorCondition"!]/GetIUMPRDenCondition</OPERATION-REF>
                      <QUEUE-LENGTH>[!"$QueueLength_GetIUMPRDenCondition"!]</QUEUE-LENGTH>
                    </SERVER-COM-SPEC>
    [!ENDIF!]
                  </PROVIDED-COM-SPECS>
                  <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IUMPRDenominatorCondition"!]</PROVIDED-INTERFACE-TREF>
                </P-PORT-PROTOTYPE>
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
                <!-- *** Port concerning PerformanceCounters *** -->
    [!IF "$CfgResetPerformanceCounters = 'true'"!]
                  <P-PORT-PROTOTYPE>
                    <SHORT-NAME>PerformanceCounters</SHORT-NAME>
                    <PROVIDED-COM-SPECS>
      [!/* check if the queue length of the PerformanceCounters Port operations will be calculated by Rte */!][!//
      [!IF "$QueueLength_PerformanceCountersRteCalculated = 'false'"!]
                      <SERVER-COM-SPEC>
                        <OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/PerformanceCounters/ResetPerformanceCounters</OPERATION-REF>
                        <QUEUE-LENGTH>[!"$QueueLength_ResetPerformanceCounters"!]</QUEUE-LENGTH>
                      </SERVER-COM-SPEC>
      [!ENDIF!]
                    </PROVIDED-COM-SPECS>
                    <PROVIDED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/PerformanceCounters</PROVIDED-INTERFACE-TREF>
                  </P-PORT-PROTOTYPE>
    [!ENDIF!]
  [!ENDIF!]

[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_OperationInvokedEvents", "AsrVersion", "InterfaceName" = "''", "TopLevelPackage" = "'/AUTOSAR_Dem'"!]
  [!CALL "Create_Interface_Vars", "VarsAsrVersion"="$AsrVersion", "VarsInterfaceName"="$InterfaceName"!]
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
                    <!-- *** Operation-Invoked-Events concerning Event '[!"as:name(.)"!]' ([!"DemEventKind"!]) *** -->
    [!IF "DemEventKind = 'DEM_EVENT_KIND_SWC'"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetEventStatus_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetEventStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/SetEventStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_ResetEventStatus_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ResetEventStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ResetEventStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!IF "$DemFFPrestorageAllowed = 'true'"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_PrestoreFreezeFrame_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_PrestoreFreezeFrame</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/PrestoreFreezeFrame</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_ClearPrestoredFF_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ClearPrestoredFreezeFrame</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ClearPrestoredFreezeFrame</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!ENDIF!]
      [!IF "$OBDSupport = 'true'"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetEventDisabled_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetEventDisabled</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/SetEventDisabled</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!ENDIF!]
      [!IF "$ResetEventDebounceStatusAllowed = 'true'"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_ResetEventDebounceStatus_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ResetEventDebounceStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticMonitor"!]/ResetEventDebounceStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!ENDIF!]
    [!ENDIF!]
    [!IF "($AsrVersion != 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventStatus_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
    [!IF "($DefaultASRServiceAPI = 'AUTOSAR_43') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventUdsStatus_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventUdsStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventUdsStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFailed_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventFailed</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFailed</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventTested_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventTested</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventTested</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetDTCOfEvent_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetDTCOfEvent</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetDTCOfEvent</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetFDC_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetFaultDetectionCounter</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetFaultDetectionCounter</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!NOCODE!]
    [!/* GetEventFreezeFrameData and GetEventExtendedDataRecord are only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
    [!ENDNOCODE!]
    [!IF "($AsrVersion = 'AUTOSAR_40') or
          ( ($AsrVersion = 'AUTOSAR_42') and
            ( ($DefaultASRServiceAPI != 'AUTOSAR_43') or ($InterfaceName != '') ) )"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFF_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventFreezeFrameData"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFreezeFrameData</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventEDR_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventExtendedDataRecord</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventExtendedDataRecord</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
    [!IF "($AsrVersion = 'AUTOSAR_42') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetDebouncingOfEvent_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetDebouncingOfEvent</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetDebouncingOfEvent</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFFEx_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventFreezeFrameDataEx"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventFreezeFrameDataEx</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventEDREx_Evt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventExtendedDataRecordEx"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DiagnosticInfo"!]/GetEventExtendedDataRecordEx</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
    <!-- !LINKSTO Dem.SWS_Dem_01036,1 -->
    [!IF "node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemUserControlledWIRBitSupport)"!]
                    <!-- *** Operation-Invoked-Events concerning user controlled WIR-bit  *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetWIRStatus_EventStatus[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetWIRStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EventStatus_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventStatus"!]/SetWIRStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]

    [!IF "as:modconf('Dem')[1]/DemGeneral/DemAvailabilitySupport = 'DEM_EVENT_AVAILABILITY'"!]
                    <!-- *** Operation-Invoked-Events concerning event availability *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetEventAvailable[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetEventAvailable</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ControlEventAvailable_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EventAvailable"!]/SetEventAvailable</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
   [!ENDIF!]

  [!ENDLOOP!]
                    <!-- *** Operation-Invoked-Events concerning General Event *** -->
  [!IF "($AsrVersion != 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventStatus_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]
  [!IF "($DefaultASRServiceAPI = 'AUTOSAR_43') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventUdsStatus_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventUdsStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventUdsStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFailed_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventFailed</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFailed</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventTested_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventTested</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventTested</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetDTCOfEvent_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetDTCOfEvent</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetDTCOfEvent</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetFDC_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetFaultDetectionCounter</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetFaultDetectionCounter</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!NOCODE!]
  [!/* GetEventFreezeFrameData and GetEventExtendedDataRecord are only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
  [!ENDNOCODE!]
  [!IF "($AsrVersion = 'AUTOSAR_40') or
        ( ($AsrVersion = 'AUTOSAR_42') and
          ( ($DefaultASRServiceAPI != 'AUTOSAR_43') or ($InterfaceName != '') ) )"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFF_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventFreezeFrameData"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFreezeFrameData</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventEDR_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventExtendedDataRecord</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventExtendedDataRecord</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]
  [!IF "($AsrVersion = 'AUTOSAR_42') or ($AsrVersion = 'AUTOSAR_2011')"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetDebouncingOfEvent_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetDebouncingOfEvent</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetDebouncingOfEvent</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventFFEx_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventFreezeFrameDataEx"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventFreezeFrameDataEx</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventEDREx_GeneralEvt</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/[!"$RE_GetEventExtendedDataRecordEx"!]</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]GeneralEvtInfo</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralDiagnosticInfo"!]/GetEventExtendedDataRecordEx</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

                    <!-- *** Operation-Invoked-Events concerning Operation Cycles *** -->
  [!LOOP "DemGeneral/DemOperationCycle/eb-list::*"!]
    [!IF "$AsrVersion = 'AUTOSAR_2011'"!]
                    <!-- !LINKSTO Dem.OperationCycle.RestartOperationCycle.Runnable,1 -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_RestartOperationCycle_OpCyc[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_RestartOperationCycle</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/RestartOperationCycle</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ELSE!][!/* $AsrVersion = 'AUTOSAR_2011' */!][!//
      [!IF "as:modconf('Dem')[1]/DemGeneral/DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_STATE'"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetOperationCycleState_OpCyc[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetOperationCycleState</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetOperationCycleState</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!ELSE!][!/* DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_COUNTER' */!][!//
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetOperationCycleCntValue_OpCyc[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetOperationCycleCntValue</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetOperationCycleCntValue</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
      [!ENDIF!]
    [!ENDIF!][!/* $AsrVersion = 'AUTOSAR_2011' */!][!//
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetCycleQualified_OpCyc[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetCycleQualified</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$OperationCycle"!]/SetCycleQualified</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDLOOP!]

                    <!-- *** Operation-Invoked-Events concerning Aging Cycles *** -->
  [!IF "DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_INTERN'"!]
    [!LOOP "DemGeneral/DemAgingCycle/eb-list::*"!]
                  <OPERATION-INVOKED-EVENT>
                    <SHORT-NAME>[!"$InterfaceName"!]EV_SetAgingCycleState_AgingCyc[!"as:name(.)"!]</SHORT-NAME>
                    <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetAgingCycleState</START-ON-EVENT-REF>
                    <OPERATION-IREF>
                      <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]AgingCycle_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                      <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$AgingCycle"!]/SetAgingCycleState</TARGET-PROVIDED-OPERATION-REF>
                    </OPERATION-IREF>
                  </OPERATION-INVOKED-EVENT>
    [!ENDLOOP!]
  [!ELSE!][!/* DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_EXTERN' */!][!//
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetAgingCycleCounterValue</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetAgingCycleCounterValue</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ExtAgingCycle</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ExternalAgingCycle"!]/SetAgingCycleCounterValue</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

                    <!-- *** Operation-Invoked-Events concerning Enable Conditions *** -->
  [!LOOP "DemGeneral/DemEnableCondition/eb-list::*"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetEnableCondition_EnCond[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetEnableCondition</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EnableCond_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EnableCondition"!]/SetEnableCondition</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDLOOP!]

                    <!-- *** Operation-Invoked-Events concerning Storage Conditions *** -->
  [!LOOP "DemGeneral/DemStorageCondition/eb-list::*"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetStorageCondition_StCond[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetStorageCondition</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]StorageCond_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$StorageCondition"!]/SetStorageCondition</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDLOOP!]

                    <!-- *** Operation-Invoked-Events concerning Indicators *** -->
  [!LOOP "DemGeneral/DemIndicator/eb-list::*"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetIndicatorStatus_IndSt[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetIndicatorStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]IndStatus_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IndicatorStatus"!]/GetIndicatorStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDLOOP!]

                    <!-- *** Operation-Invoked-Events concerning Overflow Indication *** -->
[!/* DemMaxNumberEventEntryPrimary is always > 0 */!][!//
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventMemoryOverflow_Primary</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventMemoryOverflow</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPrimaryMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetNumberOfEventMemoryEntries_Primary</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetNumberOfEventMemoryEntries</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPrimaryMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!IF "DemGeneral/DemMaxNumberEventEntrySecondary > 0"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventMemoryOverflow_Secondary</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventMemoryOverflow</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndSecondaryMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetNumberOfEventMemoryEntries_Secondary</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetNumberOfEventMemoryEntries</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndSecondaryMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryMirror > 0"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventMemoryOverflow_Mirror</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventMemoryOverflow</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndMirrorMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetNumberOfEventMemoryEntries_Mirror</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetNumberOfEventMemoryEntries</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndMirrorMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryPermanent > 0"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetEventMemoryOverflow_Permanent</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetEventMemoryOverflow</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPermanentMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetEventMemoryOverflow</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetNumberOfEventMemoryEntries_Permanent</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetNumberOfEventMemoryEntries</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPermanentMemory</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$EvMemOverflowIndication"!]/GetNumberOfEventMemoryEntries</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

  [!IF "DemGeneral/DemSuppressionSupport = 'DEM_DTC_SUPPRESSION'"!]
                    <!-- *** Operation-Invoked-Events concerning DTC Suppression *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetDTCSuppression</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetDTCSuppression</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ControlDTCSuppression</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$DTCSuppression"!]/SetDTCSuppression</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
    [!IF "($AsrVersion = 'AUTOSAR_42')"!]
                    <!-- *** Operation-Invoked-Events concerning Cdd Interfacing *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>EV_ClearDTC</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_CddIfClearDTC</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CddIf</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/CddIf/ClearDTC</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
  [!ENDIF!]

  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
    [!LOOP "DemGeneral/DemClient/eb-list::*"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_ClearDTC_[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ClearDTC</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ClearDTC_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/ClearDTC/ClearDTC</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SelectDTC_[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SelectDTC</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ClearDTC_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/ClearDTC/SelectDTC</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDLOOP!]
  [!ENDIF!]

                    <!-- *** Operation-Invoked-Events concerning IUMPR Numerator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]

                    <!-- *** Operation-Invoked-Events concerning IUMPR Denominator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]

  <!-- !LINKSTO Dem.ASR21-11.SWS_Dem_00742,1 -->
  [!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
           node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
                    <!-- *** Operation-Invoked-Events concerning the IUMPR Denominator Condition *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetIUMPRDenCondition</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetIUMPRDenCondition</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]IUMPRDenominatorCondition_GeneralDen</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IUMPRDenominatorCondition"!]/SetIUMPRDenCondition</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>

                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetIUMPRDenCondition</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetIUMPRDenCondition</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]IUMPRDenominatorCondition_GeneralDen</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$IUMPRDenominatorCondition"!]/GetIUMPRDenCondition</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
    <!-- !LINKSTO Dem.OBD.PerformanceCounters.RTEInterfaceSupport,1 -->
    [!IF "$CfgResetPerformanceCounters = 'true'"!]
                    <!-- *** Operation-Invoked-Events concerning the performance counters *** -->
                    <!-- !LINKSTO Dem.OBD.PerformanceCounters.RTEInterface,1 -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>EV_ResetPerformanceCounters</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ResetPerformanceCounters</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/PerformanceCounters</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/PerformanceCounters/ResetPerformanceCounters</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDIF!]
  [!ENDIF!]

  <!-- !LINKSTO Dem_OBD_0001,2 -->
  [!IF "$OBDSupport = 'true'"!]
                    <!-- *** Operation-Invoked-Events concerning the PFC cycle *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetPfcCycleQualified</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetPfcCycleQualified</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]PfcCycleQualified</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PfcCyclePfcCycleQualified"!]/SetPfcCycleSetPfcCycleQualified</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>

                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_GetPfcCycleQualified</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_GetPfcCycleQualified</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]PfcCycleQualified</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PfcCyclePfcCycleQualified"!]/GetPfcCycleQualified</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

  [!IF "$OBDSupport = 'true'"!]
                    <!-- *** Operation-Invoked-Events concerning ResetReadiness *** -->

                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_ResetReadiness</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_ResetReadiness</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ResetReadiness</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$ResetReadiness"!]/ResetReadiness</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
                    <!-- *** Operation-Invoked-Events concerning Power Take Off *** -->
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>[!"$InterfaceName"!]EV_SetPtoStatus</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetPtoStatus</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]PowerTakeOffStatus</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/[!"$PowerTakeOff"!]/SetPtoStatus</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
    <!-- !LINKSTO Dem.SWS_Dem_91019,1 -->
    [!LOOP "as:modconf('Dem')[1]/DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[node:existsAndTrue(DemEventClass/DemEventConfirmationThresholdCounterAdaptable)]"!]
                    <OPERATION-INVOKED-EVENT>
                      <SHORT-NAME>EV_SetEventFailureCycleCounterThreshold_[!"as:name(.)"!]</SHORT-NAME>
                      <START-ON-EVENT-REF DEST="RUNNABLE-ENTITY">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh/RE_SetEventFailureCycleCounterThreshold</START-ON-EVENT-REF>
                      <OPERATION-IREF>
                        <CONTEXT-P-PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/ControlEventFailureCycleCounterThreshold_[!"as:name(.)"!]</CONTEXT-P-PORT-REF>
                        <TARGET-PROVIDED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">[!"$TopLevelPackage"!]/PortInterfaces/EventFailureCycleCounterThreshold/SetEventFailureCycleCounterThreshold</TARGET-PROVIDED-OPERATION-REF>
                      </OPERATION-IREF>
                    </OPERATION-INVOKED-EVENT>
    [!ENDLOOP!]
  [!ENDIF!]

[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_PortApiOptions", "AsrVersion", "InterfaceName" = "''", "TopLevelPackage" = "'/AUTOSAR_Dem'"!]
  [!CALL "Create_Interface_Vars", "VarsAsrVersion"="$AsrVersion", "VarsInterfaceName"="$InterfaceName"!]
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
                    <!-- *** Port-API options concerning Event '[!"as:name(.)"!]' ([!"DemEventKind"!]) *** -->
    [!IF "DemEventKind = 'DEM_EVENT_KIND_SWC'"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DemConf_DemEventParameter_[!"as:name(.)"!]</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]EventIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]Event_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDIF!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DemConf_DemEventParameter_[!"as:name(.)"!]</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]EventIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EvtInfo_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
      [!IF "node:exists(DemCallbackInitMForE)"!]
        [!IF "not(node:exists(DemCallbackInitMForE/DemCallbackInitMForEFnc))"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]CBInitEvt_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
        [!ENDIF!]
      [!ENDIF!]
      [!VAR "RunningNr" = "0"!]
      [!LOOP "DemCallbackEventStatusChanged/eb-list::*[not(node:exists(DemCallbackEventStatusChangedFnc))]"!]
        [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
        <!-- !LINKSTO Dem.SWS_Dem_01008,1 -->
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
        [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"as:name(.)"!]</PORT-REF>
        [!ELSE!]
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"$RunningNr"!]</PORT-REF>
        [!ENDIF!]
                    </PORT-API-OPTION>
      [!ENDLOOP!]
      [!IF "node:exists(DemCallbackEventDataChanged)"!]
        [!IF "not(node:exists(DemCallbackEventDataChanged/DemCallbackEventDataChangedFnc))"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]CBDataEvt_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
        [!ENDIF!]
      [!ENDIF!]
      [!IF "DemEventClass/DemDebounceAlgorithmClass = 'DemDebounceMonitorInternal'"!]
        [!IF "node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC)"!]
          [!IF "not(node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC/DemCallbackGetFDCFnc))"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]CBFaultDetectCtr_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
          [!ENDIF!]
        [!ENDIF!]
      [!ENDIF!]
      [!IF "node:exists(DemCallbackClearEventAllowed)"!]
        [!IF "not(node:exists(DemCallbackClearEventAllowed/DemCallbackClearEventAllowedFnc))"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]CBClrEvt_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
        [!ENDIF!]
      [!ENDIF!]
    [!ENDIF!][!/* default interface */!][!//
    <!-- !LINKSTO Dem.SWS_Dem_01036,1 -->
    [!IF "node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemUserControlledWIRBitSupport)"!]
    <!-- *** Port-API options concerning user controlled WIR-bit *** -->
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DemConf_DemEventParameter_[!"as:name(.)"!]</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]EventIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EventStatus_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDIF!]

    [!IF "as:modconf('Dem')[1]/DemGeneral/DemAvailabilitySupport = 'DEM_EVENT_AVAILABILITY'"!]
    <!-- !LINKSTO Dem.SWS_Dem_01011,1 -->
    <!-- *** Port-API options concerning event availability *** -->
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(DemEventId)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]EventIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ControlEventAvailable_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDIF!]

    [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
      <!-- !LINKSTO Dem.SWS_Dem_91019,1 -->
      [!IF "node:existsAndTrue(DemEventClass/DemEventConfirmationThresholdCounterAdaptable)"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(DemEventId)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_EventIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/ControlEventFailureCycleCounterThreshold_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
      [!ENDIF!]
    [!ENDIF!]

  [!ENDLOOP!]
                    <!-- *** Port-API options concerning DTC status change *** -->
  [!IF "count(DemGeneral/DemCallbackDTCStatusChanged/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!VAR "RunningNr" = "0"!]
    [!LOOP "DemGeneral/DemCallbackDTCStatusChanged/eb-list::*[not(node:exists(DemCallbackDTCStatusChangedFnc))]"!]
      [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
      [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBStatusDTC_[!"as:name(.)"!]</PORT-REF>
      [!ELSE!]
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBStatusDTC_[!"$RunningNr"!]</PORT-REF>
      [!ENDIF!]
                    </PORT-API-OPTION>
    [!ENDLOOP!]
  [!ENDIF!]
  
                      <!-- *** Port-API options concerning ClearDTC notification *** -->
  [!IF "count(DemGeneral/DemClearDTCNotification/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!LOOP "DemGeneral/DemClearDTCNotification/eb-list::*[not(node:exists(DemClearDtcNotificationFnc))]"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/ClearDtcNotification_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDLOOP!]
  [!ENDIF!]

                    <!-- *** Port-API options concerning Operation Cycles *** -->
  [!LOOP "DemGeneral/DemOperationCycle/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
    <!-- !LINKSTO Dem.SWS_Dem_01026,1 -->
    [!IF "$AsrVersion = 'AUTOSAR_2011'"!]
                       <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                          <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(node:pos(.))"!]</VALUE>
                          </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</VALUE-TYPE-TREF>
                       </PORT-DEFINED-ARGUMENT-VALUE>
    [!ELSE!]
                       <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>[!"as:name(.)"!]</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_OperationCycleIdType</VALUE-TYPE-TREF>
                       </PORT-DEFINED-ARGUMENT-VALUE>
    [!ENDIF!]
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OpCycle_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDLOOP!]

                    <!-- *** Port-API options concerning Aging Cycles *** -->
  [!IF "count(DemGeneral/DemAgingCycle/eb-list::*) = 0"!]
                      <!-- none -->
  [!ELSE!] <!-- *** At least one aging cycle is configured ***-->
    [!VAR "AgingCtr" = "0"!]
    [!LOOP "DemGeneral/DemAgingCycle/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <!-- No usage of a TextValueSpecification possible.
                                 According to 'constr_1224' a TextValueSpecification shall only be used
                                 in the context of an AutosarDataType that references a CompuMethod'
                                 The used type 'uint8' belongs to 'AUTOSAR_Platform' and can't modified. -->
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer($AgingCtr)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]AgingCycle_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
      [!VAR "AgingCtr" = "$AgingCtr + 1"!]
    [!ENDLOOP!]
  [!ENDIF!]

                    <!-- *** Port-API options concerning Enable Conditions *** -->
  [!IF "count(DemGeneral/DemEnableCondition/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemEnableCondition/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                          <!-- No usage of a TextValueSpecification possible.
                               According to 'constr_1224' a TextValueSpecification shall only be used
                               in the context of an AutosarDataType that references a CompuMethod'
                               The used type 'uint8' belongs to 'AUTOSAR_Platform' and can't modified. -->
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(DemEnableConditionId)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]EnableCond_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDLOOP!]

                    <!-- *** Port-API options concerning Storage Conditions *** -->
  [!IF "count(DemGeneral/DemStorageCondition/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemStorageCondition/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(DemStorageConditionId)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]StorageCond_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDLOOP!]

                    <!-- *** Port-API options concerning Indicators *** -->
  [!IF "count(DemGeneral/DemIndicator/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]
  [!LOOP "DemGeneral/DemIndicator/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DemConf_DemIndicator_[!"as:name(.)"!]</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_IndicatorIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]IndStatus_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDLOOP!]

  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
    [!LOOP "DemGeneral/DemClient/eb-list::*"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>[!"num:integer(DemClientId)"!]</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]ClearDTC_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDLOOP!]
  [!ENDIF!]

                    <!-- *** Port-API options Overflow Indication *** -->
[!/* DemMaxNumberEventEntryPrimary is always > 0 */!][!//
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DEM_DTC_ORIGIN_PRIMARY_MEMORY</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]DTCOriginType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPrimaryMemory</PORT-REF>
                    </PORT-API-OPTION>
  [!IF "DemGeneral/DemMaxNumberEventEntrySecondary > 0"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
  [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                              <VALUE>DEM_DTC_ORIGIN_OBD_RELEVANT_MEMORY</VALUE>
  [!ELSE!]
                              <VALUE>DEM_DTC_ORIGIN_SECONDARY_MEMORY</VALUE>
  [!ENDIF!]
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]DTCOriginType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndSecondaryMemory</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryMirror > 0"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DEM_DTC_ORIGIN_MIRROR_MEMORY</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]DTCOriginType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndMirrorMemory</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDIF!]
  [!IF "DemGeneral/DemMaxNumberEventEntryPermanent > 0"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DEM_DTC_ORIGIN_PERMANENT_MEMORY</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">[!"$TopLevelPackage"!]/ImplementationDataTypes/Dem_[!"$InterfaceName"!]DTCOriginType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]OverflowIndPermanentMemory</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDIF!]

                    <!-- *** Port-API options concerning IUMPR Numerator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]

                    <!-- *** Port-API options concerning IUMPR Denominator *** -->
  [!IF "count(DemGeneral/DemRatioId/eb-list::*) = 0"!]
                      <!-- none -->
  [!ENDIF!]

                    <!-- *** Port-API options concerning Data Services *** -->
                    <!-- !LINKSTO Dem.SWS_Dem_01012,1 -->
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalCSDataElementClass' and node:existsAndTrue(DemDataElementUsePort)]"!]
      [!VAR "SyncDataElement" = "as:name(.)"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]CBReadData_[!"$SyncDataElement"!]</PORT-REF>
                    </PORT-API-OPTION>
    [!ENDLOOP!]
    [!IF "$SRDataElementNumber > 0"!]
      [!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalSRDataElementClass']"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>true</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]SRDataServices_[!"as:name(.)"!]</PORT-REF>
                    </PORT-API-OPTION>
      [!ENDLOOP!]
    [!ENDIF!]
  [!ENDIF!]

                    <!-- *** Port-API options concerning IUMPR Denominator Condition *** -->
                    <!-- !LINKSTO Dem.ASR21-11.SWS_Dem_01028,1 -->
  [!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
           node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
                    <PORT-API-OPTION>
                      <ENABLE-TAKE-ADDRESS>false</ENABLE-TAKE-ADDRESS>
                      <INDIRECT-API>false</INDIRECT-API>
                      <PORT-ARG-VALUES>
                        <PORT-DEFINED-ARGUMENT-VALUE>
                          <VALUE>
                            <TEXT-VALUE-SPECIFICATION>
                              <VALUE>DEM_IUMPR_GENERAL_OBDCOND</VALUE>
                            </TEXT-VALUE-SPECIFICATION>
                          </VALUE>
                          <VALUE-TYPE-TREF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_[!"$InterfaceName"!]IumprDenomCondIdType</VALUE-TYPE-TREF>
                        </PORT-DEFINED-ARGUMENT-VALUE>
                      </PORT-ARG-VALUES>
                      <PORT-REF DEST="P-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$InterfaceName"!]IUMPRDenominatorCondition_GeneralDen</PORT-REF>
                    </PORT-API-OPTION>
  [!ENDIF!]

[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_EventStatusAndDtcCB"!]
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
    [!VAR "RunningNr" = "0"!]
    [!LOOP "DemCallbackEventStatusChanged/eb-list::*"!]
      [!IF "not(node:exists(DemCallbackEventStatusChangedFnc))"!]
        [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
                      <SYNCHRONOUS-SERVER-CALL-POINT>
                        <SHORT-NAME>sscp_CBStEvt[!"as:name(../../.)"!]_[!"$RunningNr"!]</SHORT-NAME>
                        <OPERATION-IREF>
        [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                          <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
        [!ELSE!]
                          <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/[!"$CBEventStatusPortName"!]_[!"as:name(../../.)"!]_[!"$RunningNr"!]</CONTEXT-R-PORT-REF>
        [!ENDIF!]
                          <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CallbackEventStatusChangedInterface"!]/[!"$CallbackEventStatusChangedOperation"!]</TARGET-REQUIRED-OPERATION-REF>
                        </OPERATION-IREF>
                        <TIMEOUT>0.0</TIMEOUT>
                      </SYNCHRONOUS-SERVER-CALL-POINT>
      [!ENDIF!]
    [!ENDLOOP!]
  [!ENDLOOP!]
  [!IF "$UsePortGeneralCBStatusEvt = 'true'"!]
                      <SYNCHRONOUS-SERVER-CALL-POINT>
                        <SHORT-NAME>sscp_GeneralCBStatusEvt</SHORT-NAME>
                        <OPERATION-IREF>
                          <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/GeneralCBStatusEvt</CONTEXT-R-PORT-REF>
                          <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$GeneralCallbackEventStatusChangedInterface"!]/[!"$GeneralCallbackEventStatusChangedOperation"!]</TARGET-REQUIRED-OPERATION-REF>
                        </OPERATION-IREF>
                        <TIMEOUT>0.0</TIMEOUT>
                      </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDIF!]
  [!VAR "RunningNr" = "0"!]
  [!LOOP "DemGeneral/DemCallbackDTCStatusChanged/eb-list::*[not(node:exists(DemCallbackDTCStatusChangedFnc))]"!]
    [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
                      <SYNCHRONOUS-SERVER-CALL-POINT>
                        <SHORT-NAME>sscp_CBStDTC_[!"$RunningNr"!]</SHORT-NAME>
                        <OPERATION-IREF>
    [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                          <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBStatusDTC_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
    [!ELSE!]
                          <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBStatusDTC_[!"$RunningNr"!]</CONTEXT-R-PORT-REF>
    [!ENDIF!]
                          <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/CallbackDTCStatusChange/DTCStatusChanged</TARGET-REQUIRED-OPERATION-REF>
                        </OPERATION-IREF>
                        <TIMEOUT>0.0</TIMEOUT>
                      </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_ClearDTCNotification"!]
                        <!-- *** Synchronous-Server-Call-Points concerning for Clear DTC Notification *** -->
  [!LOOP "DemGeneral/DemClearDTCNotification/eb-list::*[not(node:exists(DemClearDtcNotificationFnc))]"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_ClrDTCNtfy_[!"as:name(.)"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/ClearDtcNotification_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/ClearDtcNotification/ClearDtcNotification</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_InitMonitorCB"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Init monitor for event *** -->
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
    [!IF "node:exists(DemCallbackInitMForE)"!]
      [!IF "not(node:exists(DemCallbackInitMForE/DemCallbackInitMForEFnc))"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBInitEvt[!"as:name(.)"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBInitEvt_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CallbackInitMonitorForEvent"!]/InitMonitorForEvent</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
      [!ENDIF!]
    [!ENDIF!]
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_ClearEventAllowedCB"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Clear event allowed *** -->
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
    [!IF "node:exists(DemCallbackClearEventAllowed)"!]
      [!IF "not(node:exists(DemCallbackClearEventAllowed/DemCallbackClearEventAllowedFnc))"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBClrEvt[!"as:name(.)"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBClrEvt_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CallbackClearEventAllowed"!]/ClearEventAllowed</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
      [!ENDIF!]
    [!ENDIF!]
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_For_CBDataEvt"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Event data change & general *** -->
  [!LOOP "DemConfigSet/eb-list::*/DemEventParameter/eb-list::*/DemCallbackEventDataChanged[not(node:exists(DemCallbackEventDataChangedFnc))]"!]
    [!VAR "SyncDataElement" = "as:name(../.)"!][!//
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBDataEvt[!"$SyncDataElement"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBDataEvt_[!"$SyncDataElement"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CallbackEventDataChanged"!]/EventDataChanged</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDLOOP!]
  [!IF "$UsePortGeneralCBDataEvt = 'true'"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_GeneralCBDataEvt</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/GeneralCBDataEvt</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$GeneralCallbackEventDataChanged"!]/EventDataChanged</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDIF!]
[!ENDMACRO!]
[!MACRO "Build_SSCPs_For_ReadData"!]
  [!CALL "Build_DataElementList"!]
  [!LOOP "text:split($DataElementList, '#')"!]
    [!VAR "SyncDataElement" = "."!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBReadData[!"$SyncDataElement"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBReadData_[!"$SyncDataElement"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CSDataServices"!][!"$SyncDataElement"!]/ReadData</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_DataElementList"!]
  [!VAR "DataElementList" = "'#'"!]
  [!LOOP "util:union((util:distinct(node:refs(util:distinct(node:refs(util:distinct(node:refs(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[DemEventKind='DEM_EVENT_KIND_SWC']/DemExtendedDataClassRef))/DemExtendedDataRecordClassRef/eb-list::*))/DemDataElementClassRef/eb-list::*))) , (util:distinct(node:refs(util:distinct(node:refs(util:distinct(node:refs(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[DemEventKind='DEM_EVENT_KIND_SWC']/DemFreezeFrameClassRef))/DemDidClassRef/eb-list::*))/DemDidDataElementClassRef/eb-list::*))))"!]
    [!IF "node:name(.) = 'DemExternalCSDataElementClass' and node:existsAndTrue(DemDataElementUsePort)"!]
      [!IF "not(contains($DataElementList, concat('#', as:name(.), '#')))"!]
        [!VAR "DataElementList" = "concat($DataElementList, as:name(.), '#')"!]
      [!ENDIF!]
    [!ENDIF!]
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_Runnables", "AsrVersion", "InterfaceName" = "''", "TopLevelPackage" = "'/AUTOSAR_Dem'"!]
  [!CALL "Create_Interface_Vars", "VarsAsrVersion"="$AsrVersion", "VarsInterfaceName"="$InterfaceName"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetDTCOfEvent</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCFormat</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCOfEvent</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetDTCOfEvent</SYMBOL>
                    </RUNNABLE-ENTITY>
    [!NOCODE!]
    [!/* GetEventFreezeFrameData,GetEventExtendedDataRecord is only used for AUTOSAR_40 and AUTOSAR_42 */!][!//
    [!ENDNOCODE!]
  [!IF "($AsrVersion = 'AUTOSAR_40') or
        ( ($AsrVersion = 'AUTOSAR_42') and
          ( ($DefaultASRServiceAPI != 'AUTOSAR_43') or ($InterfaceName != '') ) )"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>[!"$RE_GetEventFreezeFrameData"!]</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>RecordNumber</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ReportTotalRecord</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DataId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DestBuffer</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>[!"$Dem_GetEventFreezeFrameData"!]</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventExtendedDataRecord</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>RecordNumber</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DestBuffer</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventExtendedDataRecord</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
  [!IF "($AsrVersion != 'AUTOSAR_40')"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>[!"$RE_GetEventFreezeFrameDataEx"!]</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>RecordNumber</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DataId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DestBuffer</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>BufSize</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>[!"$Dem_GetEventFreezeFrameDataEx"!]</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>[!"$RE_GetEventExtendedDataRecordEx"!]</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>RecordNumber</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DestBuffer</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>BufSize</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>[!"$Dem_GetEventExtendedDataRecordEx"!]</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
  [!IF "DemGeneral/DemSuppressionSupport = 'DEM_DTC_SUPPRESSION'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetDTCSuppression</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTC</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCFormat</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>SuppressionStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetDTCSuppression</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
  [!IF "DemGeneral/DemAvailabilitySupport = 'DEM_EVENT_AVAILABILITY'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetEventAvailable</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>AvailableStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetEventAvailable</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]

  [!IF "$InterfaceName = ''"!][!/* generated ONLY for default interface */!][!//
    [!IF "($AsrVersion = 'AUTOSAR_42')"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_CddIfClearDTC</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_ASR42_ClearDTC</SYMBOL>
                    </RUNNABLE-ENTITY>
    [!ENDIF!]
  [!ENDIF!]

  [!IF "($InterfaceName = '') and ($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ClearDTC</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ClientId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_ClearDTC</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SelectDTC</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ClientId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTC</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCFormat</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCOrigin</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SelectDTC</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]

  [!IF "($DefaultASRServiceAPI = 'AUTOSAR_43') or ($AsrVersion = 'AUTOSAR_2011')"!][!//
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventUdsStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>UDSStatusByte</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventUdsStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!][!//
  [!IF "($AsrVersion != 'AUTOSAR_2011')"!][!//
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventStatusExtended</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!][!//
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_PrestoreFreezeFrame"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Data Services *** -->
  [!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalCSDataElementClass' and node:existsAndTrue(DemDataElementUsePort)]"!]
    [!VAR "SyncDataElement" = "as:name(.)"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBReadData[!"$SyncDataElement"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBReadData_[!"$SyncDataElement"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CSDataServices"!][!"$SyncDataElement"!]/ReadData</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_GetFaultDetectionCounter"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Fault detect counter *** -->
  [!LOOP "util:distinct(node:order(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*, 'DemEventId'))"!]
    [!IF "DemEventClass/DemDebounceAlgorithmClass = 'DemDebounceMonitorInternal'"!]
      [!IF "node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC)"!]
        [!IF "not(node:exists(DemEventClass/DemDebounceAlgorithmClass/eb-choice::*[1]/DemCallbackGetFDC/DemCallbackGetFDCFnc))"!]
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_CBFaultDetectCtr[!"as:name(.)"!]</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/CBFaultDetectCtr_[!"as:name(.)"!]</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/[!"$CallbackGetFaultDetectCounter"!]/GetFaultDetectionCounter</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
        [!ENDIF!]
      [!ENDIF!]
    [!ENDIF!]
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_SSCPs_ClearDTC"!]
  [!CALL "Build_SSCPs_ClearEventAllowedCB"!]
  [!IF "as:modconf('Dem')[1]/DemGeneral/DemOBDSupportKind = 'DEM_OBD_MASTER_ECU'"!]
                        <!-- !LINKSTO dsn.Dem.OBD.Mode04.Master.SyncSetClearDTCOperationInvoke.0001,1 -->
                        <SYNCHRONOUS-SERVER-CALL-POINT>
                          <SHORT-NAME>sscp_SetClearDTC_master</SHORT-NAME>
                          <OPERATION-IREF>
                            <CONTEXT-R-PORT-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/SetClearDTC_master</CONTEXT-R-PORT-REF>
                            <TARGET-REQUIRED-OPERATION-REF DEST="CLIENT-SERVER-OPERATION">/AUTOSAR_Dem/PortInterfaces/SetClearDTC/SetClearDTC</TARGET-REQUIRED-OPERATION-REF>
                          </OPERATION-IREF>
                          <TIMEOUT>0.0</TIMEOUT>
                        </SYNCHRONOUS-SERVER-CALL-POINT>
  [!ENDIF!]
[!ENDMACRO!]
[!//
[!//
[!MACRO "Build_VAs_For_SRDataServices"!]
  [!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalSRDataElementClass']"!]
                        <VARIABLE-ACCESS>
                          <SHORT-NAME>VA_SRDataServices_[!"as:name(.)"!]_data</SHORT-NAME>
                          <ACCESSED-VARIABLE>
                            <AUTOSAR-VARIABLE-IREF>
                              <PORT-PROTOTYPE-REF DEST="R-PORT-PROTOTYPE">/AUTOSAR_Dem/SwComponentTypes/Dem/SRDataServices_[!"as:name(.)"!]</PORT-PROTOTYPE-REF>
                              <TARGET-DATA-PROTOTYPE-REF DEST="VARIABLE-DATA-PROTOTYPE">/AUTOSAR_Dem/PortInterfaces/SRDataServices_[!"as:name(.)"!]/data</TARGET-DATA-PROTOTYPE-REF>
                            </AUTOSAR-VARIABLE-IREF>
                          </ACCESSED-VARIABLE>
                        </VARIABLE-ACCESS>
  [!ENDLOOP!]
[!ENDMACRO!]
[!//
[!//
[!NOCODE!]
[!VAR "OBDSupport" = "DemGeneral/DemOBDSupport"!]
[!/* Determine the AUTOSAR version to be used as base for service API's */!][!//
[!/* Because the AUTOSAR_43 is very similar to AUTOSAR_42, there are only small differences for the requested API's */!][!//
[!/* We have 3 major versions to be used as base versions: AUTOSAR_40, AUTOSAR_42 and AUTOSAR_2011 */!][!//
[!IF "DemGeneral/DemServiceAPI/DemDefaultASRServiceAPI = 'AUTOSAR_42'"!][!//
  [!/* base versions for creating the service API's will be AUTOSAR_42 */!][!//
  [!VAR "BaseServiceAPIVersion" = "'AUTOSAR_42'"!][!//
  [!/* default configured value for service API's will be AUTOSAR_42 */!][!//
  [!VAR "DefaultASRServiceAPI" = "'AUTOSAR_42'"!][!//
[!ELSEIF "DemGeneral/DemServiceAPI/DemDefaultASRServiceAPI = 'AUTOSAR_43'"!][!//
  [!/* base versions for creating the service API's will be AUTOSAR_42 */!][!//
  [!VAR "BaseServiceAPIVersion" = "'AUTOSAR_42'"!][!//
  [!/* default configured value for service API's will be AUTOSAR_43 */!][!//
  [!VAR "DefaultASRServiceAPI" = "'AUTOSAR_43'"!][!//
[!ELSEIF "DemGeneral/DemServiceAPI/DemDefaultASRServiceAPI = 'AUTOSAR_2011'"!][!//
  [!/* base versions for creating the service API's will be AUTOSAR_2011 */!][!//
  [!VAR "BaseServiceAPIVersion" = "'AUTOSAR_2011'"!][!//
  [!/* default configured value for service API's will be AUTOSAR_2011 */!][!//
  [!VAR "DefaultASRServiceAPI" = "'AUTOSAR_2011'"!][!//
[!ELSE!][!//
  [!/* base versions for creating the service API's will be AUTOSAR_40 */!][!//
  [!VAR "BaseServiceAPIVersion" = "'AUTOSAR_40'"!][!//
  [!/* default configured value for service API's will be AUTOSAR_40 */!][!//
  [!VAR "DefaultASRServiceAPI" = "'AUTOSAR_40'"!][!//
[!ENDIF!][!//
[!VAR "SRDataElementNumber" = "count(DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalSRDataElementClass'])"!]
[!ENDNOCODE!]
<?xml version="1.0" encoding="UTF-8"?>
<AUTOSAR xmlns="http://autosar.org/schema/r4.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://autosar.org/schema/r4.0 AUTOSAR_4-0-3.xsd">
[!CALL "CalculateQueueLength"!]

  <AR-PACKAGES>
    <!-- AUTOSAR_Dem -->
    <AR-PACKAGE>
      <SHORT-NAME>AUTOSAR_Dem</SHORT-NAME>
      <ELEMENTS/>
      <AR-PACKAGES>
        <AR-PACKAGE>
          <SHORT-NAME>DataConstrs</SHORT-NAME>
          <ELEMENTS>

            <!-- !LINKSTO Dem.RteTypes_Implicit10,1 -->
            <DATA-CONSTR>
              <SHORT-NAME>CONSTR_OperationCycleIdType</SHORT-NAME>
              <DATA-CONSTR-RULES>
                <DATA-CONSTR-RULE>
                  <INTERNAL-CONSTRS>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">0</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:i(count(DemGeneral/DemOperationCycle/eb-list::*) - 1)"!]</UPPER-LIMIT>
                  </INTERNAL-CONSTRS>
                </DATA-CONSTR-RULE>
              </DATA-CONSTR-RULES>
            </DATA-CONSTR>

[!IF "node:exists(DemGeneral/DemAgingCycle/eb-list::*)"!]
            <DATA-CONSTR>
              <SHORT-NAME>CONSTR_AgingCycleIdType</SHORT-NAME>
              <DATA-CONSTR-RULES>
                <DATA-CONSTR-RULE>
                  <INTERNAL-CONSTRS>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">0</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:i(count(DemGeneral/DemAgingCycle/eb-list::*) - 1)"!]</UPPER-LIMIT>
                  </INTERNAL-CONSTRS>
                </DATA-CONSTR-RULE>
              </DATA-CONSTR-RULES>
            </DATA-CONSTR>
[!ENDIF!]

[!IF "node:exists(DemGeneral/DemIndicator/eb-list::*)"!]
  [!VAR "IndicatorIdTypeMax" = "num:i(count(DemGeneral/DemIndicator/eb-list::*) - 1)"!]
[!ELSE!][!//
  [!VAR "IndicatorIdTypeMax" = "num:i(0)"!]
[!ENDIF!]
            <!-- !LINKSTO Dem.RteTypes_Implicit11,1 -->
            <DATA-CONSTR>
              <SHORT-NAME>CONSTR_IndicatorIdType</SHORT-NAME>
              <DATA-CONSTR-RULES>
                <DATA-CONSTR-RULE>
                  <INTERNAL-CONSTRS>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">0</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"$IndicatorIdTypeMax"!]</UPPER-LIMIT>
                  </INTERNAL-CONSTRS>
                </DATA-CONSTR-RULE>
              </DATA-CONSTR-RULES>
            </DATA-CONSTR>

[!IF "node:exists(DemGeneral/DemRatioId/eb-list::*)"!]
  [!VAR "RatioIdTypeMax" = "num:i(count(DemGeneral/DemRatioId/eb-list::*) - 1)"!]
[!ELSE!][!//
  [!VAR "RatioIdTypeMax" = "num:i(0)"!]
[!ENDIF!]
            <!-- !LINKSTO Dem.SWS_Dem_00940,1 -->
            <DATA-CONSTR>
              <SHORT-NAME>CONSTR_RatioIdType</SHORT-NAME>
              <DATA-CONSTR-RULES>
                <DATA-CONSTR-RULE>
                  <INTERNAL-CONSTRS>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">0</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"$RatioIdTypeMax"!]</UPPER-LIMIT>
                  </INTERNAL-CONSTRS>
                </DATA-CONSTR-RULE>
              </DATA-CONSTR-RULES>
            </DATA-CONSTR>

          </ELEMENTS>
        </AR-PACKAGE>

        <AR-PACKAGE>
          <SHORT-NAME>CompuMethods</SHORT-NAME>
          <ELEMENTS>
[!IF "node:exists(DemGeneral/DemIndicator/eb-list::*)"!]
            <!-- !LINKSTO Dem.RteTypes_Implicit11,1 -->
            <COMPU-METHOD>
              <SHORT-NAME>CM_IndicatorIdType</SHORT-NAME>
              <CATEGORY>TEXTTABLE</CATEGORY>
              <COMPU-INTERNAL-TO-PHYS>
                <COMPU-SCALES>
  [!LOOP "DemGeneral/DemIndicator/eb-list::*"!]
                  <COMPU-SCALE>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer(DemIndicatorID)"!]</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer(DemIndicatorID)"!]</UPPER-LIMIT>
                    <COMPU-CONST>
                      <VT>DemConf_DemIndicator_[!"as:name(.)"!]</VT>
                    </COMPU-CONST>
                  </COMPU-SCALE>
  [!ENDLOOP!]
                </COMPU-SCALES>
              </COMPU-INTERNAL-TO-PHYS>
            </COMPU-METHOD>
[!ENDIF!]

            <!-- !LINKSTO Dem.RteTypes_Implicit10,1 -->
            <COMPU-METHOD>
              <SHORT-NAME>CM_OperationCycleIdType</SHORT-NAME>
              <CATEGORY>TEXTTABLE</CATEGORY>
              <COMPU-INTERNAL-TO-PHYS>
                <COMPU-SCALES>
[!VAR "CycCtr" = "0"!]
[!LOOP "DemGeneral/DemOperationCycle/eb-list::*"!]
                  <COMPU-SCALE>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer($CycCtr)"!]</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer($CycCtr)"!]</UPPER-LIMIT>
                    <COMPU-CONST>
                      <VT>[!"as:name(.)"!]</VT>
                    </COMPU-CONST>
                  </COMPU-SCALE>
  [!VAR "CycCtr" = "$CycCtr + 1"!]
[!ENDLOOP!]
                </COMPU-SCALES>
              </COMPU-INTERNAL-TO-PHYS>
            </COMPU-METHOD>

[!IF "node:exists(DemGeneral/DemAgingCycle/eb-list::*)"!]
            <COMPU-METHOD>
              <SHORT-NAME>CM_AgingCycleIdType</SHORT-NAME>
              <CATEGORY>TEXTTABLE</CATEGORY>
              <COMPU-INTERNAL-TO-PHYS>
                <COMPU-SCALES>
  [!VAR "AgingCtr" = "0"!]
  [!LOOP "DemGeneral/DemAgingCycle/eb-list::*"!]
                  <COMPU-SCALE>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer($AgingCtr)"!]</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer($AgingCtr)"!]</UPPER-LIMIT>
                    <COMPU-CONST>
                      <VT>[!"as:name(.)"!]</VT>
                    </COMPU-CONST>
                  </COMPU-SCALE>
    [!VAR "AgingCtr" = "$AgingCtr + 1"!]
  [!ENDLOOP!]
                </COMPU-SCALES>
              </COMPU-INTERNAL-TO-PHYS>
            </COMPU-METHOD>
[!ENDIF!]
[!IF "node:exists(DemGeneral/DemEnableCondition/eb-list::*)"!]
            <COMPU-METHOD>
              <SHORT-NAME>CM_EnableConditionType</SHORT-NAME>
              <CATEGORY>TEXTTABLE</CATEGORY>
              <COMPU-INTERNAL-TO-PHYS>
                <COMPU-SCALES>
  [!LOOP "DemGeneral/DemEnableCondition/eb-list::*"!]
                  <COMPU-SCALE>
                    <LOWER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer(DemEnableConditionId)"!]</LOWER-LIMIT>
                    <UPPER-LIMIT INTERVAL-TYPE="CLOSED">[!"num:integer(DemEnableConditionId)"!]</UPPER-LIMIT>
                    <COMPU-CONST>
                      <VT>DemConf_DemEnableCondition_[!"as:name(.)"!]</VT>
                    </COMPU-CONST>
                  </COMPU-SCALE>
  [!ENDLOOP!]
                </COMPU-SCALES>
              </COMPU-INTERNAL-TO-PHYS>
            </COMPU-METHOD>
[!ENDIF!]
          </ELEMENTS>
        </AR-PACKAGE>

        <AR-PACKAGE>
          <SHORT-NAME>ImplementationDataTypes</SHORT-NAME>
          <ELEMENTS>

            <!-- definition of internal types -->

            <!-- !LINKSTO Dem.RteTypes_Implicit10,1 -->
            <IMPLEMENTATION-DATA-TYPE>
              <SHORT-NAME>Dem_OperationCycleIdType</SHORT-NAME>
              <CATEGORY>TYPE_REFERENCE</CATEGORY>
              <SW-DATA-DEF-PROPS>
                <SW-DATA-DEF-PROPS-VARIANTS>
                  <SW-DATA-DEF-PROPS-CONDITIONAL>
                    <COMPU-METHOD-REF DEST="COMPU-METHOD">/AUTOSAR_Dem/CompuMethods/CM_OperationCycleIdType</COMPU-METHOD-REF>
                    <DATA-CONSTR-REF DEST="DATA-CONSTR">/AUTOSAR_Dem/DataConstrs/CONSTR_OperationCycleIdType</DATA-CONSTR-REF>
                    <IMPLEMENTATION-DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</IMPLEMENTATION-DATA-TYPE-REF>
                  </SW-DATA-DEF-PROPS-CONDITIONAL>
                </SW-DATA-DEF-PROPS-VARIANTS>
              </SW-DATA-DEF-PROPS>
            </IMPLEMENTATION-DATA-TYPE>

[!IF "node:exists(DemGeneral/DemAgingCycle/eb-list::*)"!]
            <IMPLEMENTATION-DATA-TYPE>
              <SHORT-NAME>Dem_AgingCycleIdType</SHORT-NAME>
              <CATEGORY>TYPE_REFERENCE</CATEGORY>
              <SW-DATA-DEF-PROPS>
                <SW-DATA-DEF-PROPS-VARIANTS>
                  <SW-DATA-DEF-PROPS-CONDITIONAL>
                    <COMPU-METHOD-REF DEST="COMPU-METHOD">/AUTOSAR_Dem/CompuMethods/CM_AgingCycleIdType</COMPU-METHOD-REF>
                    <DATA-CONSTR-REF DEST="DATA-CONSTR">/AUTOSAR_Dem/DataConstrs/CONSTR_AgingCycleIdType</DATA-CONSTR-REF>
                    <IMPLEMENTATION-DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</IMPLEMENTATION-DATA-TYPE-REF>
                  </SW-DATA-DEF-PROPS-CONDITIONAL>
                </SW-DATA-DEF-PROPS-VARIANTS>
              </SW-DATA-DEF-PROPS>
            </IMPLEMENTATION-DATA-TYPE>
[!ENDIF!]

            <!-- !LINKSTO Dem.RteTypes_Implicit11,1 -->
            <!-- Dem_IndicatorIdType is always available, but the compuMethod property cannot be
                 generated if there are no indicators, as it needs configured values and names of
                 the actual indicators -->
            <IMPLEMENTATION-DATA-TYPE>
              <SHORT-NAME>Dem_IndicatorIdType</SHORT-NAME>
              <CATEGORY>TYPE_REFERENCE</CATEGORY>
              <SW-DATA-DEF-PROPS>
                <SW-DATA-DEF-PROPS-VARIANTS>
                  <SW-DATA-DEF-PROPS-CONDITIONAL>
[!IF "node:exists(DemGeneral/DemIndicator/eb-list::*)"!]
                    <COMPU-METHOD-REF DEST="COMPU-METHOD">/AUTOSAR_Dem/CompuMethods/CM_IndicatorIdType</COMPU-METHOD-REF>
[!ENDIF!]
                    <DATA-CONSTR-REF DEST="DATA-CONSTR">/AUTOSAR_Dem/DataConstrs/CONSTR_IndicatorIdType</DATA-CONSTR-REF>
                    <IMPLEMENTATION-DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</IMPLEMENTATION-DATA-TYPE-REF>
                  </SW-DATA-DEF-PROPS-CONDITIONAL>
                </SW-DATA-DEF-PROPS-VARIANTS>
              </SW-DATA-DEF-PROPS>
            </IMPLEMENTATION-DATA-TYPE>

            <!-- !LINKSTO Dem.SWS_Dem_00940,1 -->
            <IMPLEMENTATION-DATA-TYPE>
              <SHORT-NAME>Dem_RatioIdType</SHORT-NAME>
              <CATEGORY>TYPE_REFERENCE</CATEGORY>
              <SW-DATA-DEF-PROPS>
                <SW-DATA-DEF-PROPS-VARIANTS>
                  <SW-DATA-DEF-PROPS-CONDITIONAL>
                    <DATA-CONSTR-REF DEST="DATA-CONSTR">/AUTOSAR_Dem/DataConstrs/CONSTR_RatioIdType</DATA-CONSTR-REF>
                    <IMPLEMENTATION-DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</IMPLEMENTATION-DATA-TYPE-REF>
                  </SW-DATA-DEF-PROPS-CONDITIONAL>
                </SW-DATA-DEF-PROPS-VARIANTS>
              </SW-DATA-DEF-PROPS>
            </IMPLEMENTATION-DATA-TYPE>

            <IMPLEMENTATION-DATA-TYPE>
              <SHORT-NAME>Dem_EnableConditionType</SHORT-NAME>
              <CATEGORY>TYPE_REFERENCE</CATEGORY>
              <SW-DATA-DEF-PROPS>
                <SW-DATA-DEF-PROPS-VARIANTS>
                  <SW-DATA-DEF-PROPS-CONDITIONAL>
[!IF "node:exists(DemGeneral/DemEnableCondition/eb-list::*)"!]
                    <COMPU-METHOD-REF DEST="COMPU-METHOD">/AUTOSAR_Dem/CompuMethods/CM_EnableConditionType</COMPU-METHOD-REF>
[!ENDIF!]
                    <IMPLEMENTATION-DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Platform/ImplementationDataTypes/uint8</IMPLEMENTATION-DATA-TYPE-REF>
                  </SW-DATA-DEF-PROPS-CONDITIONAL>
                </SW-DATA-DEF-PROPS-VARIANTS>
              </SW-DATA-DEF-PROPS>
            </IMPLEMENTATION-DATA-TYPE>

          </ELEMENTS>
        </AR-PACKAGE>
        <AR-PACKAGE>
          <SHORT-NAME>SwComponentTypes</SHORT-NAME>
          <ELEMENTS>

            <!-- definition of service component -->

            <SERVICE-SW-COMPONENT-TYPE>
              <SHORT-NAME>Dem</SHORT-NAME>
              <PORTS>
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)"!]
                        <!-- Provide AUTOSAR 4.0 service interface -->
                        [!CALL "Build_Ports", "AsrVersion"="'AUTOSAR_40'", "InterfaceName"="'ASR40_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR40'"!]
[!ENDIF!]
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)"!]
                        <!-- Provide AUTOSAR 4.2 service interface -->
                        [!CALL "Build_Ports", "AsrVersion"="'AUTOSAR_42'", "InterfaceName"="'ASR42_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR42'"!]
[!ENDIF!]
                        <!-- Provide default service interface -->
                        [!CALL "Build_Ports", "AsrVersion"="$BaseServiceAPIVersion"!]
                <!-- *** Ports concerning Data Services *** -->
[!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalCSDataElementClass' and node:existsAndTrue(DemDataElementUsePort)]"!]
  [!VAR "SyncDataElement" = "as:name(.)"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>CBReadData_[!"$SyncDataElement"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$CSDataServices"!][!"$SyncDataElement"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
[!ENDLOOP!]
[!IF "$SRDataElementNumber > 0"!]
  [!LOOP "DemGeneral/DemDataElementClass/eb-choice::*[1]/eb-list::*[node:name(.) = 'DemExternalSRDataElementClass']"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>SRDataServices_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-COM-SPECS>
                    <NONQUEUED-RECEIVER-COM-SPEC>
                      <DATA-ELEMENT-REF DEST="VARIABLE-DATA-PROTOTYPE">/AUTOSAR_Dem/PortInterfaces/SRDataServices_[!"as:name(.)"!]/data</DATA-ELEMENT-REF>
                      <HANDLE-OUT-OF-RANGE>DEFAULT</HANDLE-OUT-OF-RANGE>
                      <USES-END-TO-END-PROTECTION>false</USES-END-TO-END-PROTECTION>
                      <ALIVE-TIMEOUT>0</ALIVE-TIMEOUT>
                      <ENABLE-UPDATE>false</ENABLE-UPDATE>
                      <HANDLE-NEVER-RECEIVED>true</HANDLE-NEVER-RECEIVED>
                      <HANDLE-TIMEOUT-TYPE>NONE</HANDLE-TIMEOUT-TYPE>
                      <INIT-VALUE>
    [!VAR "DataTypeSize" = "(substring-after(./DemDataElementDataType, 'UINT')) div 8"!][!//
    [!VAR "ArraySize" = "num:integer((./DemDataElementDataSize + $DataTypeSize - 1) div $DataTypeSize)"!][!//
    [!IF "(number(./DemDataElementDataSize) > $DataTypeSize)"!]
                        <ARRAY-VALUE-SPECIFICATION>
                          <ELEMENTS>
      [!FOR "i" = "0" TO "$ArraySize - 1"!]
                            <NUMERICAL-VALUE-SPECIFICATION>
                              <VALUE>0</VALUE>
                            </NUMERICAL-VALUE-SPECIFICATION>
      [!ENDFOR!]
                          </ELEMENTS>
                        </ARRAY-VALUE-SPECIFICATION>
    [!ELSE!]
                        <NUMERICAL-VALUE-SPECIFICATION>
                          <VALUE>0</VALUE>
                        </NUMERICAL-VALUE-SPECIFICATION>
    [!ENDIF!]
                      </INIT-VALUE>
                    </NONQUEUED-RECEIVER-COM-SPEC>
                  </REQUIRED-COM-SPECS>
                  <REQUIRED-INTERFACE-TREF DEST="SENDER-RECEIVER-INTERFACE">/AUTOSAR_Dem/PortInterfaces/SRDataServices_[!"as:name(.)"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
  [!ENDLOOP!]
[!ENDIF!]
[!IF "as:modconf('Dem')[1]/DemGeneral/DemOBDSupportKind = 'DEM_OBD_MASTER_ECU'"!]
                <!-- !LINKSTO Dem.ASR42.SWS_Dem_01018,1 -->
                <!-- R-port description of Dem_SetClearDTC_master interface for SetClearDTC -->
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>SetClearDTC_master</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/SetClearDTC</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
[!ENDIF!]
  [!VAR "UsePortGeneralCBStatusEvt" = "'false'"!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!IF "node:exists(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*/DemCallbackEventStatusChanged/eb-list::*[not(node:exists(DemCallbackEventStatusChangedFnc))])"!]
      [!VAR "UsePortGeneralCBStatusEvt" = "'true'"!]
                <!-- !LINKSTO Dem.SWS_Dem_01032,1 -->
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>GeneralCBStatusEvt</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralCallbackEventStatusChangedInterface"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>

    [!ENDIF!]
  [!ENDIF!]
  [!VAR "UsePortGeneralCBDataEvt" = "'false'"!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!IF "node:exists(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*/DemCallbackEventDataChanged[not(node:exists(DemCallbackEventDataChangedFnc))])"!]
      [!VAR "UsePortGeneralCBDataEvt" = "'true'"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>[!"$InterfaceName"!]GeneralCBDataEvt</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/[!"$GeneralCallbackEventDataChanged"!]</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>

    [!ENDIF!]
  [!ENDIF!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    [!VAR "RunningNr" = "0"!]
    [!LOOP "DemGeneral/DemCallbackDTCStatusChanged/eb-list::*[not(node:exists(DemCallbackDTCStatusChangedFnc))]"!]
      [!VAR "RunningNr" = "num:integer($RunningNr + 1)"!]
                <R-PORT-PROTOTYPE>
      [!IF "($BaseServiceAPIVersion = 'AUTOSAR_2011')"!]
                  <SHORT-NAME>CBStatusDTC_[!"as:name(.)"!]</SHORT-NAME>
      [!ELSE!]
                  <SHORT-NAME>CBStatusDTC_[!"$RunningNr"!]</SHORT-NAME>
      [!ENDIF!]
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/CallbackDTCStatusChange</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
    [!ENDLOOP!]
  [!ENDIF!]
  [!IF "($InterfaceName = '')"!][!/* default interface */!][!//
    <!-- !LINKSTO Dem.ClearDTC.DemClearDtcNotification.Port,1 -->
    [!LOOP "DemGeneral/DemClearDTCNotification/eb-list::*[not(node:exists(DemClearDtcNotificationFnc))]"!]
                <R-PORT-PROTOTYPE>
                  <SHORT-NAME>ClearDtcNotification_[!"as:name(.)"!]</SHORT-NAME>
                  <REQUIRED-INTERFACE-TREF DEST="CLIENT-SERVER-INTERFACE">[!"$TopLevelPackage"!]/PortInterfaces/ClearDtcNotification</REQUIRED-INTERFACE-TREF>
                </R-PORT-PROTOTYPE>
    [!ENDLOOP!]
  [!ENDIF!]
              </PORTS>

              <!-- definition of internal behavior -->

              <INTERNAL-BEHAVIORS>
                <SWC-INTERNAL-BEHAVIOR>
                  <SHORT-NAME>DemIntBeh</SHORT-NAME>
                  <EVENTS>
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.0 service interface -->
                    [!CALL "Build_OperationInvokedEvents", "AsrVersion"="'AUTOSAR_40'", "InterfaceName"="'ASR40_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR40'"!]
[!ENDIF!]
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.2 service interface -->
                    [!CALL "Build_OperationInvokedEvents", "AsrVersion"="'AUTOSAR_42'", "InterfaceName"="'ASR42_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR42'"!]
[!ENDIF!]
                    <!-- Provide default service interface -->
                    [!CALL "Build_OperationInvokedEvents", "AsrVersion"="$BaseServiceAPIVersion"!]
                  </EVENTS>

                  <HANDLE-TERMINATION-AND-RESTART>NO-SUPPORT</HANDLE-TERMINATION-AND-RESTART>

                  <!-- generate Compu-Method defines of data types used in optional port interfaces -->
                  <INCLUDED-DATA-TYPE-SETS>
                    <INCLUDED-DATA-TYPE-SET>
                      <DATA-TYPE-REFS>
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)"!]
                        <!-- Provide AUTOSAR 4.0 service interface -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR40/ImplementationDataTypes/Dem_ASR40_EventStatusType</DATA-TYPE-REF>
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR40/ImplementationDataTypes/Dem_ASR40_InitMonitorReasonType</DATA-TYPE-REF>
                        <!-- Compu-Method defines of Dem_IndicatorStatusType are neither generated nor used if no indicator links are configured, but shall be available for all configurations. -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR40/ImplementationDataTypes/Dem_ASR40_IndicatorStatusType</DATA-TYPE-REF>
[!ENDIF!]
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)"!]
                        <!-- Provide AUTOSAR 4.2 service interface -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR42/ImplementationDataTypes/Dem_ASR42_EventStatusType</DATA-TYPE-REF>
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR42/ImplementationDataTypes/Dem_ASR42_InitMonitorReasonType</DATA-TYPE-REF>
                        <!-- Compu-Method defines of Dem_IndicatorStatusType are neither generated nor used if no indicator links are configured, but shall be available for all configurations. -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ASR42/ImplementationDataTypes/Dem_ASR42_IndicatorStatusType</DATA-TYPE-REF>
[!ENDIF!]
                        <!-- Provide default service interface -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_EventStatusType</DATA-TYPE-REF>
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_InitMonitorReasonType</DATA-TYPE-REF>
                        <!-- Compu-Method defines of Dem_IndicatorStatusType are neither generated nor used if no indicator links are configured, but shall be available for all configurations. -->
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_IndicatorStatusType</DATA-TYPE-REF>
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_EnableConditionType</DATA-TYPE-REF>
[!IF "node:exists(DemGeneral/DemAgingCycle/eb-list::*)"!]
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_AgingCycleIdType</DATA-TYPE-REF>
[!ENDIF!]
                        <!-- Compu-Method defines of Dem_OperationCycleStateType are not generated when the default autosar version is AUTOSAR_2011, 
                             otherwise the Dem_OperationCycleStateType is always generated as DEM_PROCESS_OPCYC_COUNTER is not supported. -->
[!IF "$AsrVersion = 'AUTOSAR_2011'"!]
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_OperationCycleStateType</DATA-TYPE-REF>
                        <DATA-TYPE-REF DEST="IMPLEMENTATION-DATA-TYPE">/AUTOSAR_Dem/ImplementationDataTypes/Dem_OperationCycleIdType</DATA-TYPE-REF>
[!ENDIF!]
                        <!-- data types used in mandatory ports
                        Dem_EventStatusExtendedType
                        Dem_DTCOriginType
                        Dem_DTCFormatType
                        End of: data types used in mandatory ports -->
                      </DATA-TYPE-REFS>
                    </INCLUDED-DATA-TYPE-SET>
                  </INCLUDED-DATA-TYPE-SETS>
                  <PORT-API-OPTIONS>
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.0 service interface -->
                    [!CALL "Build_PortApiOptions", "AsrVersion"="'AUTOSAR_40'", "InterfaceName"="'ASR40_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR40'"!]
[!ENDIF!]
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.2 service interface -->
                    [!CALL "Build_PortApiOptions", "AsrVersion"="'AUTOSAR_42'", "InterfaceName"="'ASR42_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR42'"!]
[!ENDIF!]
                    <!-- Provide default service interface -->
                    [!CALL "Build_PortApiOptions", "AsrVersion"="$BaseServiceAPIVersion"!]
                  </PORT-API-OPTIONS>
                  <RUNNABLES>
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR40ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.0 service interface -->
                    [!CALL "Build_Runnables", "AsrVersion"="'AUTOSAR_40'", "InterfaceName"="'ASR40_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR40'"!]
[!ENDIF!]
[!IF "node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI)"!]
                    <!-- Provide AUTOSAR 4.2 service interface -->
                    [!CALL "Build_Runnables", "AsrVersion"="'AUTOSAR_42'", "InterfaceName"="'ASR42_'", "TopLevelPackage"="'/AUTOSAR_Dem/ASR42'"!]
[!ENDIF!]
                    <!-- Provide default service interface -->
                    [!CALL "Build_Runnables", "AsrVersion"="$BaseServiceAPIVersion"!]
[!IF "node:exists(DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[DemEventKind = 'DEM_EVENT_KIND_SWC'])"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetEventStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
  [!IF "$SRDataElementNumber > 0"!]
                      <DATA-RECEIVE-POINT-BY-ARGUMENTS>
                        <!-- *** Variable-Access concerning SRDataServices *** -->
                        [!CALL "Build_VAs_For_SRDataServices"!]
                      </DATA-RECEIVE-POINT-BY-ARGUMENTS>
  [!ENDIF!]
                      <SERVER-CALL-POINTS>
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                        [!IF "DemGeneral/DemExtendedDataCapture = 'DEM_TRIGGER_TESTFAILED' and DemGeneral/DemFreezeFrameCapture = 'DEM_TRIGGER_TESTFAILED'"!]
                          [!CALL "Build_SSCPs_For_CBDataEvt"!]
                          [!CALL "Build_SSCPs_For_ReadData"!]
                        [!ENDIF!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetEventStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ResetEventStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_ResetEventStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!IF "$DemFFPrestorageAllowed = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_PrestoreFreezeFrame</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
    [!IF "$SRDataElementNumber > 0"!]
                      <DATA-RECEIVE-POINT-BY-ARGUMENTS>
                        <!-- *** Variable-Access concerning SRDataServices *** -->
                        [!CALL "Build_VAs_For_SRDataServices"!]
                      </DATA-RECEIVE-POINT-BY-ARGUMENTS>
    [!ENDIF!]
                      <SERVER-CALL-POINTS>
                        [!CALL "Build_SSCPs_PrestoreFreezeFrame"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_PrestoreFreezeFrame</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ClearPrestoredFreezeFrame</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_ClearPrestoredFreezeFrame</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
  [!IF "$OBDSupport = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetEventDisabled</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetEventDisabled</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
  [!IF "$ResetEventDebounceStatusAllowed = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ResetEventDebounceStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DebounceResetStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_ResetEventDebounceStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
[!ENDIF!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventFailed</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventFailed</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventFailed</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventTested</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventTested</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventTested</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetFaultDetectionCounter</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>FaultDetectionCounter</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        <!-- GetFDC callback is triggered by RunnableEntity GetNextFilteredDTCAndFDC. Adding SSCP for GetFDC here is a work-around as this will be updated as a part of Dcm interfacing -->
                        [!CALL "Build_SSCPs_GetFaultDetectionCounter"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_GetFaultDetectionCounter</SYMBOL>
                    </RUNNABLE-ENTITY>
[!IF "($BaseServiceAPIVersion = 'AUTOSAR_42') or ($BaseServiceAPIVersion = 'AUTOSAR_2011') or (node:existsAndTrue(DemGeneral/DemServiceAPI/DemEnableASR42ServiceAPI))"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetDebouncingOfEvent</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DebouncingState</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetDebouncingOfEvent</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]
[!IF "($DefaultASRServiceAPI = 'AUTOSAR_2011')"!]
                    <!-- !LINKSTO Dem.OperationCycle.RestartOperationCycle.Runnable,1 -->
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_RestartOperationCycle</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>OperationCycleId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <!-- !LINKSTO dsn.Dem.OperationCycle.RestartOperationCycle.SSCP,1 -->
                      <SERVER-CALL-POINTS>
                          [!CALL "Build_SSCPs_InitMonitorCB"!]
                          [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                          [!CALL "Build_SSCPs_For_CBDataEvt"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_RestartOperationCycle</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!][!/* ($DefaultASRServiceAPI = 'AUTOSAR_2011') */!][!//
[!IF "($DefaultASRServiceAPI != 'AUTOSAR_2011')"!]
  [!IF "DemGeneral/DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_STATE'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetOperationCycleState</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>OperationCycleId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>CycleState</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                          [!CALL "Build_SSCPs_InitMonitorCB"!]
                          [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                          [!CALL "Build_SSCPs_For_CBDataEvt"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetOperationCycleState</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ELSE!][!/* DemOperationCycleProcessing = 'DEM_PROCESS_OPCYC_COUNTER' */!][!//
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetOperationCycleCntValue</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetOperationCycleCntValue</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
[!ENDIF!][!/* ($DefaultASRServiceAPI != 'AUTOSAR_2011') */!][!//
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetCycleQualified</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>OperationCycleId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetCycleQualified</SYMBOL>
                    </RUNNABLE-ENTITY>
[!IF "DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_INTERN'"!]
  [!IF "node:exists(DemGeneral/DemAgingCycle/eb-list::*)"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetAgingCycleState</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>AgingCycleId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                          [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                          [!CALL "Build_SSCPs_For_CBDataEvt"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetAgingCycleState</SYMBOL>
                    </RUNNABLE-ENTITY>
  [!ENDIF!]
[!ELSE!][!/* DemGeneral/DemAgingCycleCounterProcessing = 'DEM_PROCESS_AGINGCTR_EXTERN' */!][!//
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetAgingCycleCounterValue</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetAgingCycleCounterValue</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]
[!IF "node:exists(DemGeneral/DemEnableCondition/eb-list::*)"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetEnableCondition</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EnableConditionID</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ConditionFulfilled</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetEnableCondition</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]
[!IF "node:exists(DemGeneral/DemStorageCondition/eb-list::*)"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetStorageCondition</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetStorageCondition</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]
[!IF "node:exists(DemGeneral/DemIndicator/eb-list::*)"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetIndicatorStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>IndicatorId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>IndicatorStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetIndicatorStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetEventMemoryOverflow</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCOrigin</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>OverflowIndication</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetEventMemoryOverflow</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetNumberOfEventMemoryEntries</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>DTCOrigin</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>NumberOfEventMemoryEntries</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetNumberOfEventMemoryEntries</SYMBOL>
                    </RUNNABLE-ENTITY>

[!IF "(((node:exists(DemGeneral/DemObdVariant)) and (DemGeneral/DemObdVariant = 'DEM_OBD_VARIANT_OBDONUDS')) or
         node:exists(DemGeneral/DemCalloutObdVariantFnc))"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetIUMPRDenCondition</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ConditionId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ConditionStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetIUMPRDenCondition</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetIUMPRDenCondition</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ConditionId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>ConditionStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetIUMPRDenCondition</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

[!IF "$CfgResetPerformanceCounters = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ResetPerformanceCounters</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>CountersKind</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_ResetPerformanceCounters</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

[!/* !LINKSTO Dem_OBD_0001,2 */!][!//
[!IF "$OBDSupport = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetPfcCycleQualified</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetPfcCycleQualified</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_GetPfcCycleQualified</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_GetPfcCycleQualified</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

[!IF "$OBDSupport = 'true'"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_ResetReadiness</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_ResetReadiness</SYMBOL>
                    </RUNNABLE-ENTITY>
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetPtoStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SYMBOL>Dem_SetPtoStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

[!IF "node:existsAndTrue(as:modconf('Dem')[1]/DemGeneral/DemUserControlledWIRBitSupport)"!]
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetWIRStatus</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>WIRStatus</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        <!-- *** Synchronous-Server-Call-Points concerning Event status change & general and DTC status change *** -->
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetWIRStatus</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

[!IF "count(as:modconf('Dem')[1]/DemConfigSet/eb-list::*/DemEventParameter/eb-list::*[node:existsAndTrue(DemEventClass/DemEventConfirmationThresholdCounterAdaptable)]) > 0"!]
                    <!-- !LINKSTO Dem.SWS_Dem_91019,1 -->
                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_SetEventFailureCycleCounterThreshold</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <ARGUMENTS>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>EventId</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                        <RUNNABLE-ENTITY-ARGUMENT>
                          <SYMBOL>FailureCycleCounterThreshold</SYMBOL>
                        </RUNNABLE-ENTITY-ARGUMENT>
                      </ARGUMENTS>
                      <CAN-BE-INVOKED-CONCURRENTLY>true</CAN-BE-INVOKED-CONCURRENTLY>
                      <SERVER-CALL-POINTS>
                        <!-- *** Synchronous-Server-Call-Points concerning
                             Event UDS status change, Event Data change (Event-Specific and General) and DTC status change *** -->
                        [!/* Postponed until the implementation of SWS_Dem_01244
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                        [!CALL "Build_SSCPs_For_CBDataEvt"!] */!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_SetEventConfirmationThresholdCounter</SYMBOL>
                    </RUNNABLE-ENTITY>
[!ENDIF!]

                    <RUNNABLE-ENTITY>
                      <SHORT-NAME>RE_MainFunction</SHORT-NAME>
                      <MINIMUM-START-INTERVAL>0</MINIMUM-START-INTERVAL>
                      <CAN-BE-INVOKED-CONCURRENTLY>false</CAN-BE-INVOKED-CONCURRENTLY>
[!IF "$SRDataElementNumber > 0"!]
                      <DATA-RECEIVE-POINT-BY-ARGUMENTS>
                        <!-- *** Variable-Access concerning SRDataServices *** -->
                        [!CALL "Build_VAs_For_SRDataServices"!]
                      </DATA-RECEIVE-POINT-BY-ARGUMENTS>
[!ENDIF!]
                      <SERVER-CALL-POINTS>
                        <!-- *** InitMonitorForEvent callback is triggered by Dem_MainFunction if the DTC setting is re-enabled or during ClearDTC processing *** -->
                        [!CALL "Build_SSCPs_InitMonitorCB"!]
                        <!-- *** Synchronous-Server-Call-Points concerning Event status change & general *** -->
                        [!CALL "Build_SSCPs_EventStatusAndDtcCB"!]
                        [!CALL "Build_SSCPs_For_CBDataEvt"!]
                        <!-- GetFDC callback is triggered by RunnableEntity GetNextFilteredDTCAndFDC. Adding SSCP for GetFDC here is a work-around as this will be updated as a part of Dcm interfacing -->
                        [!CALL "Build_SSCPs_GetFaultDetectionCounter"!]
                        [!CALL "Build_SSCPs_PrestoreFreezeFrame"!]
                        <!-- Synchronous-Server-Call-Points concerning ClearDTC -->
                        [!CALL "Build_SSCPs_ClearDTC"!]
                        [!CALL "Build_SSCPs_ClearDTCNotification"!]
                      </SERVER-CALL-POINTS>
                      <SYMBOL>Dem_MainFunction</SYMBOL>
                      <WAIT-POINTS/>
                    </RUNNABLE-ENTITY>
                  </RUNNABLES>
                  <SUPPORTS-MULTIPLE-INSTANTIATION>false</SUPPORTS-MULTIPLE-INSTANTIATION>
                </SWC-INTERNAL-BEHAVIOR>
              </INTERNAL-BEHAVIORS>
            </SERVICE-SW-COMPONENT-TYPE>
          </ELEMENTS>
        </AR-PACKAGE>
      </AR-PACKAGES>
    </AR-PACKAGE>
    <AR-PACKAGE>
      <SHORT-NAME>EB_Dem</SHORT-NAME>
      <AR-PACKAGES>
        <AR-PACKAGE>
          <SHORT-NAME>SwcImplementations</SHORT-NAME>
          <ELEMENTS>

            <!-- definition of implementation -->

            <SWC-IMPLEMENTATION>
              <SHORT-NAME>DemImpl</SHORT-NAME>
              <CODE-DESCRIPTORS>
                <CODE>
                  <SHORT-NAME>DemCode</SHORT-NAME>
                  <ARTIFACT-DESCRIPTORS>
                    <AUTOSAR-ENGINEERING-OBJECT>
                      <SHORT-LABEL>EngObject</SHORT-LABEL>
                      <CATEGORY>SWSRC</CATEGORY>
                    </AUTOSAR-ENGINEERING-OBJECT>
                  </ARTIFACT-DESCRIPTORS>
                </CODE>
              </CODE-DESCRIPTORS>
              <PROGRAMMING-LANGUAGE>C</PROGRAMMING-LANGUAGE>
              <RESOURCE-CONSUMPTION>
                <SHORT-NAME>Resources</SHORT-NAME>
                <MEMORY-SECTIONS>
                  <MEMORY-SECTION>
                  <SHORT-NAME>CODE</SHORT-NAME>
                  <SW-ADDRMETHOD-REF DEST="SW-ADDR-METHOD">/AUTOSAR_MemMap/SwAddrMethods/CODE</SW-ADDRMETHOD-REF>
                  </MEMORY-SECTION>
                </MEMORY-SECTIONS>
              </RESOURCE-CONSUMPTION>
              <SW-VERSION>6.5.8</SW-VERSION>
              <VENDOR-ID>1</VENDOR-ID>
              <BEHAVIOR-REF DEST="SWC-INTERNAL-BEHAVIOR">/AUTOSAR_Dem/SwComponentTypes/Dem/DemIntBeh</BEHAVIOR-REF>
            </SWC-IMPLEMENTATION>
          </ELEMENTS>
        </AR-PACKAGE>
      </AR-PACKAGES>
    </AR-PACKAGE>
  </AR-PACKAGES>
</AUTOSAR>
